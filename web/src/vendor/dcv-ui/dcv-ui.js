import e from"https://assets-oh3.pages.dev/dcvjs-esm/dcv.js";import t,{memo as n,useEffect as r,useRef as o,useState as i,useCallback as a,useMemo as s}from"react";import l from"prop-types";import{Popover as c,StatusIndicator as d,Button as u,Modal as m,Box as p,SpaceBetween as h,Textarea as f,Grid as g,Link as b,Tabs as v,RadioGroup as y,Alert as w,Select as E,ColumnLayout as S,Toggle as x,ButtonDropdown as C,Header as M,LineChart as k,Pagination as O,Icon as R,BreadcrumbGroup as F,Table as I,Input as B,Container as T,ProgressBar as D,Badge as $,Spinner as A}from"@cloudscape-design/components";import{applyMode as N,Mode as L,applyDensity as P,Density as j}from"@cloudscape-design/global-styles";import{colorChartsPaletteCategorical1 as _,colorChartsPaletteCategorical2 as z,colorChartsPaletteCategorical3 as W,colorBackgroundContainerHeader as U,colorBorderDividerDefault as V,colorBackgroundContainerContent as q}from"@cloudscape-design/design-tokens";import H from"@babel/runtime/helpers/extends";import Q from"react-dom";var G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},K={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,o),!0;case 5:return d.fn.call(d.context,t,r,o,i),!0;case 6:return d.fn.call(d.context,t,r,o,i,a),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,p=d.length;for(c=0;c<p;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,r);break;case 4:d[c].fn.call(d[c].context,t,r,o);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(K);const Y=new(0,K.exports),Z={on:(e,t)=>Y.on(e,t),once:(e,t)=>Y.once(e,t),off:(e,t)=>Y.off(e,t),emit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y.emit(e,...n)}};Object.freeze(Z);var J,X,ee,te={exports:{}};X=G,ee=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function s(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return a(e)||l.apply(this,arguments)}function d(e,n,o){var i,a=this;n=null==n?"WARN":n;var l="loglevel";function d(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return i},a.setLevel=function(n,o){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==o&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(e){}}}(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,d()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),function(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var u=d();null==u&&(u=n),a.setLevel(u,!1)}var u=new d,m={};u.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=m[e];return t||(t=m[e]=new d(e,u.getLevel(),u.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return u.noConflict=function(){return typeof window!==t&&window.log===u&&(window.log=p),u},u.getLoggers=function(){return m},u.default=u,u},(J=te).exports?J.exports=ee():X.log=ee();var ne=te.exports;const re=ne.getLogger("DCV-web-sdk-UI");class oe{constructor(e){this.name=e,this.dateObject=new Date}trace(e){const t=this.dateObject;t.setTime(Date.now()),re.trace(`${t.toISOString()} - [UI][${this.name}] TRACE ${e}`)}debug(e){const t=this.dateObject;t.setTime(Date.now()),re.debug(`${t.toISOString()} - [UI][${this.name}] DEBUG ${e}`)}info(e){const t=this.dateObject;t.setTime(Date.now()),re.info(`${t.toISOString()} - [UI][${this.name}] INFO ${e}`)}warn(e){const t=this.dateObject;t.setTime(Date.now()),re.warn(`${t.toISOString()} - [UI][${this.name}] WARN ${e}`)}error(e){const t=this.dateObject;t.setTime(Date.now()),re.error(`${t.toISOString()} - [UI][${this.name}] ERROR ${e}`)}}function ie(e){return new oe(e)}function ae(e){return"function"==typeof e}function se(e){return null==e}function le(e){return!se(e)&&"object"==typeof e&&!Array.isArray(e)}function ce(e){return e.charAt(0).toUpperCase()+e.slice(1)}function de(e,n,r){const o=n||"20px",i=r||"0";return t.createElement("div",{style:{padding:`${i} ${o}`}},e)}function ue(e){return(e||window).document.documentElement.clientHeight}function me(e){return-1!==["available","attached","streaming"].indexOf(e)}const pe="Auto-hide toolbar",he="Automatically hide the toolbar and display it only moving the mouse to the top border.",fe="Auto-hide toolbar only in full screen",ge="Fix the bar on the top only in windowed mode.",be="Always display the toolbar",ve="Fix the bar on the top.",ye={label:"Best responsiveness",description:"Provide most fluid experience.",minQuality:20,maxQuality:90},we={label:"Best quality",description:"Provide best image quality.",minQuality:70,maxQuality:90},Ee="adaptive",Se="current",xe=[{width:1920,height:1080},{width:1440,height:900},{width:1024,height:768},{width:800,height:600}];let Ce;function Me(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)")&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener&&window.matchMedia("(prefers-color-scheme: dark)").removeEventListener}function ke(){return Ce}Me()&&(Ce=window.matchMedia("(prefers-color-scheme: dark)"));const Oe=(e,t)=>{N(e.matches?L.Dark:L.Light,t)},Re=(e,t)=>{switch(e){case"System default":Ce&&Oe(Ce,t);break;case"Light mode":N(L.Light,t);break;case"Dark mode":N(L.Dark,t)}};ie("Settings");const Fe={sessionId:"",authToken:"",extensionData:"",promptReconnect:!0,logLevel:"info",wss:!0,enabledChannels:[],customChannels:[],displayCodecs:[],enableQU:!0,minQuality:30,maxQuality:0,maxDisplayWidth:0,maxDisplayHeight:0,minDisplayWidth:640,minDisplayHeight:480,debugLayer:!1,enableGraphicsDebugLayer:!1,clientHiDpiScaling:!0,enableWebCodecs:!0,losslessColorspace:"rgb",dynamicResolution:!0,enableShortcutEditor:!1,scaleToFit:!1,volume:100,microphone:!1,webcam:!1,macOptionToAlt:!0,macCommandToControl:!1,appearanceMode:Me()?"System default":"Light mode",toolbarBehavior:fe,displayQuality:ye.label,metricsEnabled:!1,selectedResolution:Ee,selectedWebcamId:null,highColorAccuracy:!1,forceKeyboardCombinations:!1,timezoneRedirectionEnabled:!1};function Ie(){localStorage.setItem("dcv-settings",JSON.stringify(Fe))}let Be,Te,De={},$e=[];function Ae(e){Te.queryFeature(e).then((t=>{ae(De[e])&&De[e](t)})).catch((t=>{Be.info(`Query for ${e} denied with message: ${t.message}`)}))}function Ne(e){e.length>0&&function(e){e.forEach((e=>{-1!==Object.keys(De).indexOf(e)?Ae(e):($e.push(e),Be&&Be.info(`No callback for feature ${e} adding to pending.`))}))}(e)}function Le(e,t){e&&ae(t)?(De[e]=t,Be.info(`Added feature listener for: ${e}`),Be.debug(`Callbacks ${Object.keys(De)}`),Be.debug(`Pending updates ${$e}`),-1!==$e.indexOf(e)&&(Ae(e),$e.splice($e.indexOf(e),1))):Be.warn("Wrong parameters for addFeatureListener")}const Pe={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},je={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},_e={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},ze={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},We={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ue{static getFirstMatch(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,t,n){if(e.test(t))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map((e=>parseInt(e,10)||0));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,n=!1){const r=Ue.getVersionPrecision(e),o=Ue.getVersionPrecision(t);let i=Math.max(r,o),a=0;const s=Ue.map([e,t],(e=>{const t=i-Ue.getVersionPrecision(e),n=e+new Array(t+1).join(".0");return Ue.map(n.split("."),(e=>new Array(20-e.length).join("0")+e)).reverse()}));for(n&&(a=i-Math.min(r,o)),i-=1;i>=a;){if(s[0][i]>s[1][i])return 1;if(s[0][i]===s[1][i]){if(i===a)return 0;i-=1}else if(s[0][i]<s[1][i])return-1}}static map(e,t){const n=[];let r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}static find(e,t){let n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){const r=e[n];if(t(r,n))return r}}static assign(e,...t){const n=e;let r,o;if(Object.assign)return Object.assign(e,...t);for(r=0,o=t.length;r<o;r+=1){const e=t[r];if("object"==typeof e&&null!==e){Object.keys(e).forEach((t=>{n[t]=e[t]}))}}return e}static getBrowserAlias(e){return Pe[e]}static getBrowserTypeByAlias(e){return je[e]||""}}const Ve=/version\/(\d+(\.?_?\d+)+)/i,qe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=Ue.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=Ue.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=Ue.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=Ue.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=Ue.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=Ue.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=Ue.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=Ue.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=Ue.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=Ue.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=Ue.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=Ue.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=Ue.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=Ue.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=Ue.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=Ue.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=Ue.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=Ue.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=Ue.getFirstMatch(Ve,e)||Ue.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=Ue.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=Ue.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=Ue.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=Ue.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=Ue.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=Ue.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=Ue.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=Ue.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=Ue.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=Ue.getFirstMatch(Ve,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Ue.getFirstMatch(t,e),version:Ue.getSecondMatch(t,e)}}}];var He=[{test:[/Roku\/DVP/],describe(e){const t=Ue.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:ze.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=Ue.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:ze.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=Ue.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=Ue.getWindowsVersionName(t);return{name:ze.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:ze.iOS},n=Ue.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=Ue.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=Ue.getMacOSVersionName(t),r={name:ze.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=Ue.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:ze.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=Ue.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=Ue.getAndroidVersionName(t),r={name:ze.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=Ue.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:ze.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=Ue.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||Ue.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||Ue.getFirstMatch(/\bbb(\d+)/i,e);return{name:ze.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=Ue.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:ze.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=Ue.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:ze.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:ze.Linux})},{test:[/CrOS/],describe:()=>({name:ze.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=Ue.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:ze.PlayStation4,version:t}}}],Qe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=Ue.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:_e.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:_e.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:_e.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:_e.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:_e.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:_e.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:_e.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=Ue.getFirstMatch(/(ipod|iphone)/i,e);return{type:_e.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:_e.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:_e.mobile})},{test:e=>"blackberry"===e.getBrowserName(!0),describe:()=>({type:_e.mobile,vendor:"BlackBerry"})},{test:e=>"bada"===e.getBrowserName(!0),describe:()=>({type:_e.mobile})},{test:e=>"windows phone"===e.getBrowserName(),describe:()=>({type:_e.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:()=>({type:_e.tablet})},{test:e=>"android"===e.getOSName(!0),describe:()=>({type:_e.mobile})},{test:e=>"macos"===e.getOSName(!0),describe:()=>({type:_e.desktop,vendor:"Apple"})},{test:e=>"windows"===e.getOSName(!0),describe:()=>({type:_e.desktop})},{test:e=>"linux"===e.getOSName(!0),describe:()=>({type:_e.desktop})},{test:e=>"playstation 4"===e.getOSName(!0),describe:()=>({type:_e.tv})},{test:e=>"roku"===e.getOSName(!0),describe:()=>({type:_e.tv})}],Ge=[{test:e=>"microsoft edge"===e.getBrowserName(!0),describe(e){if(/\sedg\//i.test(e))return{name:We.Blink};const t=Ue.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:We.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:We.Trident},n=Ue.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:We.Presto},n=Ue.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:We.Gecko},n=Ue.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:We.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:We.WebKit},n=Ue.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class Ke{constructor(e,t=!1){if(null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ue.find(qe,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ue.find(He,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=Ue.find(Qe,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ue.find(Ge,(e=>{if("function"==typeof e.test)return e.test(this);if(e.test instanceof Array)return e.test.some((e=>this.test(e)));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ue.assign({},this.parsedResult)}satisfies(e){const t={};let n=0;const r={};let o=0;if(Object.keys(e).forEach((i=>{const a=e[i];"string"==typeof a?(r[i]=a,o+=1):"object"==typeof a&&(t[i]=a,n+=1)})),n>0){const e=Object.keys(t),n=Ue.find(e,(e=>this.isOS(e)));if(n){const e=this.satisfies(t[n]);if(void 0!==e)return e}const r=Ue.find(e,(e=>this.isPlatform(e)));if(r){const e=this.satisfies(t[r]);if(void 0!==e)return e}}if(o>0){const e=Object.keys(r),t=Ue.find(e,(e=>this.isBrowser(e,!0)));if(void 0!==t)return this.compareVersion(r[t])}}isBrowser(e,t=!1){const n=this.getBrowserName().toLowerCase();let r=e.toLowerCase();const o=Ue.getBrowserTypeByAlias(r);return t&&o&&(r=o.toLowerCase()),r===n}compareVersion(e){let t=[0],n=e,r=!1;const o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(Ue.compareVersions(o,n,r))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some((e=>this.is(e)))}}
/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */const Ye=class{static getParser(e,t=!1){if("string"!=typeof e)throw new Error("UserAgent should be a string");return new Ke(e,t)}static parse(e){return new Ke(e).getResult()}static get BROWSER_MAP(){return je}static get ENGINE_MAP(){return We}static get OS_MAP(){return ze}static get PLATFORMS_MAP(){return _e}}.getParser(window.navigator.userAgent),Ze="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Je=Ye.getOSName(!0);function Xe(){return!("tablet"!==Ye.getPlatformType(!0)&&!et())}function et(){return!!Ye.satisfies({macos:{safari:">=13"}})&&Ze}function tt(){return Ye}function nt(){return"mobile"===Ye.getPlatformType(!0)}function rt(){return"macos"===Je}function ot(){return"ios"===Je}const it=rt()||ot()?"⌘":"CTRL",at=`Press [${it}+C] to copy content from remote clipboard.`,st=`Press [${it}+V] to paste content to remote clipboard.`,lt=ie("Clipboard");let ct="",dt="",ut=!1;function mt(e){let{connection:n,copyEnabled:o,pasteEnabled:i,currentWindow:a}=e;const[s,l]=t.useState(!1),[g,b]=t.useState(""),[v,y]=t.useState({}),[w,E]=t.useState({}),S=()=>{l(!1),n.captureClipboardEvents(!1,a)},x=(e,t)=>{s?(y({status:e,message:t}),a.document.getElementById("modal-popover-trigger").click()):(E({status:e,message:t}),a.document.getElementById("icon-popover-trigger").click())},C=()=>{ut||(x("success","Clipboard synced"),("string"==typeof ct||ct instanceof String)&&b(ct))},M=()=>{ut||(x("success","Clipboard synced"),("string"==typeof dt||dt instanceof String)&&b(dt))},k=()=>{x("error","The clipboard data is too large to be transferred"),ut=!0},O=e=>{switch(lt.info(`Received clipboard event ${e.name}`),e.name){case"established":break;case"copy":case"autoCopyDone":C();break;case"paste":case"autoPasteDone":M();break;case"dataSizeAlert":k();break;case"remoteError":"dataSizeAlert"===e.error&&k();break;case"newDataAvailable":e.autoCopy||x("info","Use the clipboard to copy data locally or remotely."),ct=e.clipboardData["text/plain"],ut=!1;break;case"pasteAvailableData":dt=e.clipboardData,ut=!1;break;default:lt.info("Unknown clipboard event.")}};return r((()=>(Z.on("clipboard",O),()=>{Z.off("clipboard",O)})),[a,s]),t.createElement("div",null,t.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start"}},t.createElement("div",{style:{height:0}},t.createElement(c,{dismissButton:!1,position:"bottom",size:"large",triggerType:"custom",content:t.createElement(d,{type:w.status},w.message)},t.createElement("div",{id:"icon-popover-trigger"}))),t.createElement("div",{title:"Clipboard"},t.createElement(u,{iconName:"copy",variant:"icon",onClick:()=>{l(!0),b(""),n.captureClipboardEvents(!0,a)}}))),t.createElement(m,{onDismiss:S,visible:s,size:"large",header:"Copy and paste",footer:t.createElement(p,{float:"right"},t.createElement(u,{variant:"primary",onClick:S},"Done")),modalRoot:a.document.body},t.createElement(h,{size:"xl"},t.createElement(p,null,o&&t.createElement(p,{variant:"p"},at),i&&t.createElement(p,{variant:"p"},st)),t.createElement(p,{variant:"p",margin:{bottom:"xs"}},"Content preview")),t.createElement("div",{style:{margin:"auto",width:"1px",height:0}},t.createElement(c,{dismissButton:!1,position:"top",size:"large",triggerType:"custom",content:t.createElement(d,{type:v.status},v.message)},t.createElement("div",{id:"modal-popover-trigger",style:{marginTop:"19.5px"}}))),t.createElement(f,{controlId:"textarea",value:(R=g,R.substring(0,5e3).replace(/\0/g,"").concat(R.length>5e3?" ...":"")),readOnly:!0,rows:10})));var R}mt.propTypes={connection:l.object,copyEnabled:l.bool,pasteEnabled:l.bool,currentWindow:l.object};var pt=n(mt);const ht=`OS: ${et()?`iOS ${tt().getBrowserVersion()}(Desktop Mode on iOS Safari detected, estimating version from Safari)`:`${tt().getOSName()} ${tt().getOSVersion()}`}\nBrowser version: ${tt().getBrowserName()} ${tt().getBrowserVersion()} with ${tt().getEngineName()} engine\nPlatform: ${et()?" Tablet (Desktop Mode on iOS Safari detected)":tt().getPlatformType()}\nWeb SDK version: ${e.version.versionStr}`,ft=ie("About");function gt(e){const[n,o]=t.useState(""),[i,a]=t.useState("");return r((()=>{null!==e.connection&&(o(bt(e.connection.getServerInfo())),fetch("third-party-licenses.txt").then((e=>{const t=`Status code: ${e.status}, Status Text: ${e.statusText}`;if(ft.debug(`Received response. ${t}`),[...e.headers.entries()].forEach((e=>ft.debug(`Header: ${e[0]} with value: ${e[1]}`))),!e.ok)throw new Error(t);return e.text()})).then((e=>a(e))).catch((e=>ft.warn(`Failed to fetch resource. Error: ${e}`))))}),[e.connection]),t.createElement(m,{onDismiss:e.onDismiss,visible:e.visible,size:"large",header:"About NICE DCV",modalRoot:window.document.body,disableContentPaddings:!0,footer:t.createElement(g,{gridDefinition:[{colspan:7},{colspan:5}]},t.createElement(p,null,"Copyright © 2017-2023, NICE s.r.l. All rights reserved."),t.createElement(p,{float:"right"},t.createElement(b,{external:!0,externalIconAriaLabel:"Opens in a new tab",href:"EULA.txt"},"End User License Agreement")))},t.createElement(v,{tabs:[{label:"Client",id:"about-client",content:de(t.createElement(f,{rows:10,readOnly:!0,value:ht}))},{label:"Server",id:"about-server",content:de(t.createElement(f,{rows:10,readOnly:!0,value:n}))},{label:"Third party notices",id:"third-party-notices",content:de(t.createElement(f,{rows:10,readOnly:!0,value:i}))}]}))}function bt(e,t){let n="";return Object.keys(e).forEach((r=>{"version"===r?n+=`${ce(r)}: ${e[r].major}.${e[r].minor}.${e[r].revision}\n`:le(e[r])?n+=bt(e[r],ce(r)):n+=t?`${t}-${r}: ${e[r]}\n`:`${ce(r)}: ${e[r]}\n`})),n}function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}gt.propTypes={connection:l.object,visible:l.bool,onDismiss:l.func};var yt=({styles:e={},...n})=>t.createElement("svg",vt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M15 6h-5V1M1 6h5V1M1 10h5v5M15 10h-5v5M1 1l5 5M15 1l-5 5M6 10l-5 5M10 10l5 5"}));const wt=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"];function Et(e){return Boolean(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)}function St(e){let{setFullscreen:n,currentDocument:o}=e;const[i,a]=t.useState(!1),s=()=>{const e=Et(o);a(e),n(e)},l=()=>o.fullscreenEnabled||o.webkitFullscreenEnabled||o.mozFullScreenEnabled||o.msFullscreenEnabled;return r((()=>(l()&&wt.forEach((e=>o.addEventListener(e,s))),()=>{l()&&wt.forEach((e=>o.removeEventListener(e,s)))})),[o,n]),t.createElement("div",{title:"Full Screen"},t.createElement(u,H({},i?{iconSvg:t.createElement(yt,null)}:{iconName:"expand"},{variant:"icon",onClick:()=>{Et(o)?(o.exitFullscreen?o.exitFullscreen():o.mozCancelFullScreen?o.mozCancelFullScreen():o.webkitExitFullscreen?o.webkitExitFullscreen():o.msExitFullscreen&&o.msExitFullscreen(),navigator?.keyboard?.unlock()):(()=>{const e=o.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen(),navigator?.keyboard?.lock()})()}})))}St.propTypes={setFullscreen:l.func,currentDocument:l.object};var xt=n(St);const Ct=ie("Display Layout");let Mt,kt,Ot,Rt={},Ft={};function It(){return kt}function Bt(e){return Fe.dynamicResolution&&It()&&Fe.selectedResolution===Ee&&(e||Mt&&Mt.length>1)}function Tt(e,t,n){let r,o;if(Mt&&Mt.length>0)1===Mt.length||n?(r=Mt[0].rect.width,o=Mt[0].rect.height):Mt.length>1&&!n&&(r=Mt[1].rect.width,o=Mt[1].rect.height);else{const e=t.document.getElementById("dcv-display");e?(r=e.getBoundingClientRect().width,o=e.getBoundingClientRect().height):(r=t.innerWidth,o=t.innerHeight)}Bt(n)?(Rt[n]&&(clearTimeout(Rt[n]),Rt[n]=null),Rt[n]=setTimeout((()=>{!function(e,t,n){let r=Nt(t),o=At(t);r=Math.min(r,Fe.maxDisplayWidth||r),r=Math.max(r,Fe.minDisplayWidth||r),o=Math.min(o,Fe.maxDisplayHeight||o),o=Math.max(o,Fe.minDisplayHeight||o);(()=>{const e=e=>Math.abs(Ft[n].width-r)>e||Math.abs(Ft[n].height-o)>e;return!Et(t.document)&&!t.fullScreen||function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(Ft[n])||e(2)})()?(Ft[n]={width:r,height:o},zt(e,r,o,n)):Lt(t.document.getElementById("dcv-display-frame"),"hidden")}(e,t,n),Rt[n]=null}),500)):jt(r,o,t,n)}function Dt(e,t){return`${e}x${t}`}function $t(e){return e.split("x")}function At(e){let t=0,n=e.document.getElementById("dcv-container"),r=e.document.getElementById("dcv-display-frame");return n&&r?(t=r.getBoundingClientRect().top-n.getBoundingClientRect().top,n.getBoundingClientRect().height-t):ue(e)}function Nt(e){const t=e.document.getElementById("dcv-container");return t?t.getBoundingClientRect().width:e.innerWidth}function Lt(e,t){e&&(e.style.overflow=t)}function Pt(e){const t=e.document.getElementById("dcv-display"),n=e.document.getElementById("dcv-display-frame");t&&n&&((()=>{const r=At(e),o=t.getBoundingClientRect().height,i=o?`${Math.max(0,(r-o)/2).toString()}px`:0;t.style.marginTop=i,n.style.height=`${r.toString()}px`})(),(()=>{const r=Nt(e),o=t.getBoundingClientRect().width,i=o?`${Math.max(0,(r-o)/2).toString()}px`:0;t.style.marginLeft=i,n.style.width=`${r.toString()}px`})())}function jt(e,t,n,r){let o=1,i=1,a=1;const s=Nt(n),l=At(n);if(Pt(n),Lt(n.document.getElementById("dcv-display-frame"),Fe.scaleToFit?"hidden":"auto"),Bt(r)||(Ft[r]={}),Fe.scaleToFit){if(i=s/e,a=l/t,o=Math.max(0,Math.floor(100*Math.min(1,i,a))/100),!o)return;Ct.info(`Requesting a display scaling factor of ${o}`),!function(e,t){const n=`scale(${e})`,r=t.getElementById("dcv-display"),o=t.getElementById("dcv-container");Ot||(Ot=function(){const e=window.CSS&&window.CSS.supports||window.supportsCSS;if(e&&e("( transform: scale(1) )"))return"transform";if(e&&e("( zoom: 0.8 )"))return"zoom";return"no-scale"}());if("transform"===Ot)return r.style.transform=n,r.style.transformOrigin="0 0",o.style.overflow="hidden",!0;if("zoom"===Ot)return r.style.zoom=e,o.style.overflow="hidden",!0;return o.style.overflow="auto",!1}(o,n.document)?Ct.info("CSS scaling or zoom unsupported!"):Pt(n)}}function _t(e){Mt=e}function zt(e,t,n,r){let o,i,a=r?Mt[0].name:Mt[1].name,s=r?0:Mt[0].rect.width;return Mt&&Mt.length>1?(o={name:a,rect:{x:s,y:0,width:t,height:n},primary:r},i=r?[o,Mt[1]]:[Mt[0],o],_t(i),e.requestDisplayLayout(i)):e.requestResolution(t,n)}function Wt(e){const[n,o]=t.useState(Fe.macOptionToAlt),[i,a]=t.useState(Fe.macCommandToControl),s=t=>{t?(Fe.macOptionToAlt=n,Fe.macCommandToControl=i,Ie(),e.connection.setKeyboardQuirks({macOptionToAlt:n,macCommandToControl:i,forceKeyboardCombinations:Fe.forceKeyboardCombinations})):(o(Fe.macOptionToAlt),a(Fe.macCommandToControl))};return r((()=>(Z.on("close-preferences",s),()=>{Z.off("close-preferences",s)})),[n,i]),t.createElement(h,{size:"xxl"},t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Option key setting"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return o(t.value)},value:n,items:[{value:!0,label:"Use Option (⌥) as remote Alt key"},{value:!1,label:"Use Option (⌥) as local modifier"}]})),t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Command key setting"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return a(t.value)},value:i,items:[{value:!0,label:"Use Command (⌘) as remote Control key"},{value:!1,label:"Use Command (⌘) as remote Meta key"}]})))}Wt.propTypes={connection:l.object};const Ut={ERROR:{status:"error",color:"red",importance:3},WARNING:{status:"warning",color:"red",importance:2},SUCCESS:{status:"success",color:"green",importance:1},INFO:{status:"info",color:"blue",importance:1}};let Vt=0,qt=[];function Ht(e,t){let n,r=(e=>({id:Vt++,level:se(e.level)?Ut.INFO:e.level,header:se(e.header)?"":e.header,description:se(e.description)?null:e.description,progress:se(e.progress)?null:e.progress,uploadedBytes:se(e.progress)?null:e.uploadedBytes,totalBytes:se(e.progress)?null:e.totalBytes,uploadedFiles:se(e.progress)?null:e.uploadedFiles,totalFiles:se(e.progress)?null:e.totalFiles,actions:se(e.actions)?{}:e.actions,timestamp:Date.now()}))(e),o=-1;return se(t)||(o=qt.findIndex((e=>e.id===t))),-1===o?n=[r].concat(qt.map((e=>({...e})))):(n=qt.map((e=>({...e}))),n[o]=r),qt=n,Z.emit("notifications-update",qt),r.id}function Qt(e){const t=qt.map((e=>({...e}))).filter((t=>t.id!==e));qt=t,Z.emit("notifications-update",qt)}function Gt(e,t,n,r,o,i){if(!se(t)){const a=qt.findIndex((e=>e.id===t));if(-1!==a){const t=qt.map((e=>({...e})));t[a].progress=e,t[a].uploadedBytes=n,t[a].totalBytes=r,t[a].uploadedFiles=o,t[a].totalFiles=i,qt=t,Z.emit("notifications-update",qt)}}}const Kt=ie("UI CameraSelect");let Yt=null;function Zt(e){const[n,i]=t.useState(),[a,s]=t.useState([]),[l,c]=t.useState(),d=o(!0),m=e=>{Ht({level:Ut.ERROR,header:"Error getting devices.",description:e.message,actions:{dismissable:!0}},null)},f=e=>{const t=[];e.filter((e=>"videoinput"===e.kind)).forEach(((e,n)=>{t.push({label:e.label||`Camera ${n+1}`,value:e.deviceId})})),s(t)},g=()=>{e.connection.getConnectedDevices().then(f).catch(m)},b=()=>{navigator.permissions.query({name:"camera"}).then((t=>{Yt&&(Yt.onchange=null),Yt=t,n||(t.onchange=b,g()),i(t.state),"granted"===t.state&&me(e.webcamStatus)&&g()})).catch((e=>{e instanceof TypeError?Kt.info(e.message):Kt.warn(e.message)}))},v=t=>{t?l&&(e.setWebcamId(l),Fe.selectedWebcamId=l,Ie()):c(Fe.selectedWebcamId)},y=()=>t.createElement(u,{iconAlign:"right",href:"https://docs.aws.amazon.com/dcv/latest/userguide/using-webcam.html",target:"_blank",iconName:"external"},"Read more");r((()=>{a.filter((t=>e.webcamId===t.value)).length?c(e.webcamId):a.length&&(c(a[0].value),e.setWebcamId(a[0].value))}),[e.webcamId,n,a]),r((()=>{e.webcamStatus&&(Kt.info(`Webcam enabled. Status: ${e.webcamStatus}`),d.current&&(b(),d.current=!1))}),[e.webcamStatus]),r((()=>(Z.on("close-preferences",v),Z.on("device-change",g),()=>{Z.off("close-preferences",v),Z.off("device-change",g)})),[e.connection,e.setWebcamId,l]);const[S,x,C,M]=(()=>{let r="",o=null,i="info",a=!0;if("busy"===e.webcamStatus)r="Camera not available. Another user is already sharing a camera within the session.",o=y(),i="warning";else switch(n){case"prompt":r="Camera not available. Grant camera permission to use it.",o=t.createElement(u,{onClick:()=>navigator.mediaDevices.getUserMedia({video:!0})},"Allow detection"),i="info";break;case"denied":r="Camera not available. Grant camera permission to use it.",o=y(),i="warning";break;case"granted":"streaming"===e.webcamStatus?(r="The selected camera cannot be changed while the streaming is active.",o=y(),i="warning"):(r="Camera available. Check the browser settings to change this site's camera permission.",o=y(),i="info",a=!1)}return[r,o,i,a]})();return t.createElement(h,{size:"l"},t.createElement(w,{action:x,type:C},S),t.createElement("div",null,t.createElement(p,null,"Camera"),t.createElement(p,{color:"text-body-secondary",fontSize:"body-s",margin:{bottom:"s"}},"Select which camera to activate."),t.createElement("div",{style:{width:"70%"}},t.createElement(E,{selectedOption:(e=>{const t=a.filter((t=>e===t.value));return t.length?t[0]:null})(l),onChange:e=>{let{detail:t}=e;return c(t.selectedOption.value)},options:a,selectedAriaLabel:"Selected",disabled:M}))))}Zt.propTypes={connection:l.object,webcamStatus:l.string,webcamId:l.string,setWebcamId:l.func};const Jt=ie("Preferences");function Xt(n){const[o,i]=t.useState("general"),[a,s]=t.useState(Fe.selectedResolution),[l,c]=t.useState(Fe.metricsEnabled),[d,f]=t.useState(!1),[g,b]=t.useState(!1),[w,E]=t.useState(Fe.displayQuality),[C,M]=t.useState(Fe.appearanceMode),[k,O]=t.useState(Fe.toolbarBehavior),[R,F]=t.useState(260),[I,B]=t.useState(0),[T,D]=t.useState(Fe.timezoneRedirectionEnabled),$=e=>{Ht({level:Ut.WARNING,header:"Timezone Redirection config error.",description:t.createElement("div",null,"Failed to ",T?"enable":"disable",".",t.createElement("br",null),"Error: ",e.message," (code: ",e.code,")"),actions:{dismissable:!0}})},A=()=>{Z.emit("close-preferences",!1),s(Fe.selectedResolution),E(Fe.displayQuality),M(Fe.appearanceMode),O(Fe.toolbarBehavior),c(Fe.metricsEnabled),b(Fe.highColorAccuracy),D(Fe.timezoneRedirectionEnabled),n.onDismiss()};return r((()=>{n.connection&&Le("high-color-accuracy",(e=>{f(e.available),b(e.enabled),F(e.available?350:260),e.available&&(Fe.highColorAccuracy=e.enabled,Ie())}))}),[n.connection]),r((()=>{B(n.timezoneRedirectionSetting),n.connection&&n.timezoneRedirectionSetting===e.TimezoneRedirectionSetting.CLIENT_DECIDES&&n.connection.enableTimezoneRedirection(T).catch($)}),[n.connection,n.timezoneRedirectionSetting]),t.createElement(m,{onDismiss:A,visible:n.visible,size:"large",header:"Preferences",modalRoot:window.document.body,disableContentPaddings:!0,footer:t.createElement(p,{float:"right"},t.createElement(h,{direction:"horizontal",size:"xs"},t.createElement(u,{variant:"link",onClick:A},"Cancel"),t.createElement(u,{variant:"primary",onClick:()=>{Z.emit("close-preferences",!0),(()=>{let e;w!==Fe.displayQuality&&(e=w===ye.label?ye:we,n.connection.setDisplayQuality(e.minQuality,e.maxQuality),Jt.info(`Switching to ${w} display mode`),Fe.displayQuality=w)})(),C!==Fe.appearanceMode&&(Fe.appearanceMode=C,n.submitAppearanceModePreferences(C)),k!==Fe.toolbarBehavior&&(Fe.toolbarBehavior=k,n.submitToolbarBehaviorPreferences(k)),l!==Fe.metricsEnabled&&(Fe.metricsEnabled=l,n.submitMetricsPreferences(l)),(()=>{if(!d)return;const e=g?"enable":"disable";n.connection.requestDisplayConfig(g).catch((n=>{Ht({level:Ut.WARNING,header:"Display config error.",description:t.createElement("div",null,"Failed to ",e," high color accuracy.",t.createElement("br",null),"Error: ",n.message," (code: ",n.code,")"),actions:{dismissable:!0}})}))})(),a!==Fe.selectedResolution&&(Fe.selectedResolution=a===Ee?Ee:Se,n.submitResolutionPreferences(a),s(Fe.selectedResolution)),T!==Fe.timezoneRedirectionEnabled&&(Fe.timezoneRedirectionEnabled=T,I===e.TimezoneRedirectionSetting.CLIENT_DECIDES&&n.connection.enableTimezoneRedirection(T).catch($)),Ie(),n.onDismiss()}},"Save")))},t.createElement("div",{style:{height:R}},t.createElement(v,{activeTabId:o,onChange:e=>{let{detail:t}=e;return i(t.activeTabId)},tabs:[{label:"General",id:"general",content:de(t.createElement(S,{columns:2},t.createElement("div",null,t.createElement(h,{size:"xxl"},t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Appearance"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return M(t.value)},value:C,items:[...Me()?[{value:"System default",label:"System default"+(n.systemDefaultAppearanceMode?` (${ce(n.systemDefaultAppearanceMode)})`:"")}]:[],{value:"Light mode",label:"Light mode"},{value:"Dark mode",label:"Dark mode"}]})),I===e.TimezoneRedirectionSetting.CLIENT_DECIDES?t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Time Zone Redirection"),t.createElement(x,{onChange:e=>{let{detail:t}=e;return D(t.checked)},checked:T},T?"Enabled":"Disabled")):null)),t.createElement("div",null,t.createElement(p,{margin:{bottom:"s"}},"Toolbar behavior"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return O(t.value)},value:k,items:[{value:pe,label:pe,description:he},{value:fe,label:fe,description:ge},{value:be,label:be,description:ve}]}))))},{label:"Display",id:"display",content:de(t.createElement(S,{columns:2},t.createElement(h,{size:"xxl"},t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Streaming mode"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return E(t.value)},value:w,items:[{value:ye.label,label:ye.label,description:ye.description},{value:we.label,label:we.label,description:we.description}]})),d&&t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"High color accuracy (YUV 4:4:4)"),t.createElement(x,{onChange:e=>{let{detail:t}=e;return b(t.checked)},checked:g,description:"Streaming performance could be affected."},g?"Enabled":"Disabled")),t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Streaming metrics in the toolbar"),t.createElement(x,{onChange:e=>{let{detail:t}=e;return c(t.checked)},checked:l},l?"Enabled":"Disabled"))),It()?t.createElement(p,null,t.createElement(p,{margin:{bottom:"s"}},"Display resolution"),t.createElement(y,{onChange:e=>{let{detail:t}=e;return s(t.value)},value:a,items:[{value:Ee,label:"Adapt automatically"},{value:Se,label:`${n.currentResolution} (Current)`},...(N=n.currentResolution,xe.filter((e=>{let t=!0;if(Fe.minDisplayWidth&&(t=e.width>=Fe.minDisplayWidth),t&&Fe.maxDisplayWidth&&(t=e.width<=Fe.maxDisplayWidth),t&&Fe.minDisplayHeight&&(t=e.height>=Fe.minDisplayHeight),t&&Fe.maxDisplayWidth&&(t=e.height<=Fe.maxDisplayHeight),t){const n=$t(N);e.width.toString()===n[0]&&e.height.toString()===n[1]&&(t=!1)}return t})).map((e=>({value:Dt(e.width,e.height),label:Dt(e.width,e.height)}))))]})):null))},...rt()?[{label:"Keyboard",id:"keyboard",content:de(t.createElement(Wt,{connection:n.connection}))}]:[],...n.webcamStatus&&"not-available"!==n.webcamStatus?[{label:"Camera",id:"camera",content:de(t.createElement(Zt,{connection:n.connection,webcamStatus:n.webcamStatus,webcamId:n.webcamId,setWebcamId:n.setWebcamId}))}]:[]]})));var N}Xt.propTypes={connection:l.object,visible:l.bool,onDismiss:l.func,submitResolutionPreferences:l.func,currentResolution:l.string,submitMetricsPreferences:l.func,submitAppearanceModePreferences:l.func,submitToolbarBehaviorPreferences:l.func,webcamStatus:l.string,webcamId:l.string,setWebcamId:l.func,systemDefaultAppearanceMode:l.oneOf([L.Light,L.Dark]),timezoneRedirectionSetting:l.number};const en=ie("DropdownMenu");let tn;function nn(e){let{connection:n,relativeMouseModeEnabled:o,sasEnabled:i,focusDisplay:a,screenshotEnabled:s,currentResolution:l,submitResolutionPreferences:c,submitMetricsPreferences:d,submitAppearanceModePreferences:u,submitToolbarBehaviorPreferences:m,webcamStatus:p,webcamId:h,setWebcamId:f,systemDefaultAppearanceMode:g,timezoneRedirectionSetting:b}=e;const[v,y]=t.useState(""),[w,E]=t.useState(!1),[S,x]=t.useState(!1),[M,k]=t.useState(0),[O,R]=t.useState(!1),F=e=>{switch(e){case"relativeMouseMode":n.enterRelativeMouseMode();break;case"SAS":!function(e){e.sendKeyboardShortcut([{key:"Control",location:KeyboardEvent.DOM_KEY_LOCATION_LEFT},{key:"Alt",location:KeyboardEvent.DOM_KEY_LOCATION_LEFT},{key:"Delete",location:KeyboardEvent.DOM_KEY_LOCATION_STANDARD}])}(n),R(!0);break;case"preferences":x(!0);break;case"screenshot":!function(e){const n=e=>{en.error(`Failed to capture screenshot: ${e.message}`),Ht({level:Ut.ERROR,header:"Screenshot error",description:t.createElement("div",null,"Failed to capture screenshot.",t.createElement("br",null),"Error: ",e.message),actions:{dismissable:!0}})};tn=setTimeout((()=>{en.warn("No response to the screenshot request"),n({message:"Timeout"}),tn=null}),2e4),e.getScreenshot().catch((e=>{tn&&clearTimeout(tn),n(e)}))}(n);break;case"aboutDCV":E(!0);break;case"disconnection":n.disconnect()}};return r((()=>{null!==n&&y(n.getServerInfo().hostname)}),[n]),r((()=>(Z.on("screenshot",on),()=>{Z.off("screenshot",on)})),[]),r((()=>{k(b)}),[b]),r((()=>{O&&(a(),R(!1))}),[O]),t.createElement("div",{title:"More"},t.createElement(C,{onItemClick:e=>{let{detail:t}=e;return F(t.id)},items:[...o?[{text:"Use relative mouse [Ctrl + Shift + F8]",id:"relativeMouseMode"}]:[],...i?[{text:"Send Ctrl + Alt + Del",id:"SAS"}]:[],...s?[{text:"Save Screenshot",id:"screenshot"}]:[],{text:"Preferences",id:"preferences"},{text:"About NICE DCV",id:"aboutDCV"},{text:"Disconnect",id:"disconnection"}]},v),t.createElement(gt,{connection:n,visible:w,onDismiss:()=>{E(!1)}}),t.createElement(Xt,{connection:n,currentResolution:l,submitResolutionPreferences:c,visible:S,onDismiss:()=>{x(!1)},submitMetricsPreferences:d,submitAppearanceModePreferences:u,submitToolbarBehaviorPreferences:m,webcamStatus:p,webcamId:h,setWebcamId:f,systemDefaultAppearanceMode:g,timezoneRedirectionSetting:M}))}function rn(e){return btoa(function(e){let t,n=32768,r=[];for(t=0;t<e.length;t+=n)r.push(String.fromCharCode.apply(null,e.subarray(t,t+n)));return r.join("")}(new Uint8Array(e)))}function on(e){tn&&clearTimeout(tn),null!==e?(en.info("Retrieved screenshot"),Ht({level:Ut.INFO,header:"Screenshot captured.",description:"Screenshot ready to be downloaded.",actions:{accept:{text:"Download",callback:()=>function(e){const t=document.createElement("a");t.href=`data: image/png;base64,${rn(e)}`,"download"in t&&(t.download="connection.png"),t.target="_blank",t.click()}(e),remove:!0},decline:{text:"Decline",remove:!0}}})):(en.warn("Failed to capture screenshot"),Ht({level:Ut.ERROR,header:"Screenshot error.",description:"Failed to capture screenshot.",actions:{dismissable:!0}}))}nn.propTypes={connection:l.object,relativeMouseModeEnabled:l.bool,sasEnabled:l.bool,focusDisplay:l.func,screenshotEnabled:l.bool,currentResolution:l.string,submitResolutionPreferences:l.func,submitMetricsPreferences:l.func,submitAppearanceModePreferences:l.func,submitToolbarBehaviorPreferences:l.func,webcamStatus:l.string,webcamId:l.string,setWebcamId:l.func,systemDefaultAppearanceMode:l.oneOf([L.Light,L.Dark]),timezoneRedirectionSetting:l.number};var an=n(nn);function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}var ln=({styles:e={},...n})=>t.createElement("svg",sn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("rect",{x:"4",y:"1",width:"4",height:"8",rx:"2"}),t.createElement("path",{d:"M1 6v1a5 5 0 008 4M6 12v3M1 15h10M15.12 5.75l-4.5 4.5M15.12 10.25l-4.5-4.5"}));const cn=ie("Microphone");function dn(e){let{connection:n}=e;const[a,s]=i(Fe.microphone),l=o(!1),c=e=>{l.current=e,s(e),Fe.microphone=e,Ie(),n.setMicrophone(e).catch((t=>{const n=`Failed to ${e?"enable":"disable"} microphone.`;cn.warn(`${n} Disabling microphone. Error (code: ${t.code}): ${t.message}`),Fe.microphone=e,Ie(),Ht({level:Ut.ERROR,header:"Microphone error.",description:n,actions:{dismissable:!0}})})).finally((()=>{l.current=!1,cn.info("[Audio] Setting microphone to "+(Fe.microphone?"enabled":"disabled"))}))};return r((()=>{c(Fe.microphone)}),[n]),t.createElement("div",{title:"Microphone"},t.createElement(u,H({},a?{iconName:"microphone"}:{iconSvg:t.createElement(ln,null)},{variant:"icon",onClick:()=>{l.current||c(!Fe.microphone)}})))}dn.propTypes={connection:l.object};var un=n(dn);function mn(){return mn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mn.apply(this,arguments)}var pn=({styles:e={},...n})=>t.createElement("svg",mn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M7 15V1L1 6v4l6 5zM15.01 5.75l-4.5 4.5M15.01 10.25l-4.5-4.5"}));function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}var fn=({styles:e={},...n})=>t.createElement("svg",hn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M7 15V1L1 6v4l6 5zM11 5v6"}));function gn(){return gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(this,arguments)}var bn=({styles:e={},...n})=>t.createElement("svg",gn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M7 15V1L1 6v4l6 5zM15 3v10M11 5v6"}));const vn=ie("Audio");function yn(e){let{connection:n}=e;const[r,o]=t.useState(Fe.volume),[i,a]=t.useState(Fe.volume),s=e=>{o(e),Fe.volume=e,Ie(),n.setVolume(e),vn.debug(`Client volume level set to ${e}`)};return t.createElement(c,{position:"bottom",size:"large",triggerType:"custom",header:"Volume",dismissButton:!1,content:t.createElement(h,{direction:"horizontal",size:"s"},t.createElement(u,{iconSvg:wn(r),variant:"icon",onClick:()=>{s(r?0:i)}}),t.createElement("input",{type:"range",style:{verticalAlign:"middle",width:"150px",height:"100%"},orient:"horizontal",min:"0",max:"100",step:"1",value:i,onChange:e=>{return t=Number(e.target.value),a(t),void s(t);var t}}),t.createElement("div",{style:{display:"flex",width:"3ch",textAlign:"center",alignItems:"center",justifyContent:"center",height:"100%"}},t.createElement("output",null,i)))},t.createElement("div",{title:"Audio"},t.createElement(u,{iconSvg:wn(r),variant:"icon"})))}function wn(e){return e<=0?t.createElement(pn,null):e<=50?t.createElement(fn,null):t.createElement(bn,null)}yn.propTypes={connection:l.object};var En=n(yn);function Sn(e){return e<1e3?`${e.toFixed(1)} bps`:e<1e6?`${(e/1e3).toFixed(1)} kbps`:`${(e/1e6).toFixed(1)} Mbps`}const xn=e=>{let{label:n,color:r,children:o}=e;return t.createElement("div",null,t.createElement(p,{margin:{bottom:"xxxs"}},t.createElement(h,{direction:"horizontal",size:"xxs"},r&&t.createElement(Cn,{color:r}),t.createElement(p,{color:"text-label"},n))),t.createElement("div",null,o))};xn.propTypes={label:l.string,color:l.string,children:l.node};const Cn=e=>{let{color:n}=e;return t.createElement("svg",{width:"12",height:"12"},t.createElement("rect",{width:"12",height:"12",style:{fill:n,strokeWidth:"1",stroke:"rgb(0,0,0)"}}))};Cn.propTypes={color:l.string};let Mn=null,kn=[];function On(e){let{connection:n}=e;const[i,s]=t.useState(0),[l,c]=t.useState(0),[d,f]=t.useState(0),[v,y]=t.useState(""),[w,E]=t.useState(""),[S,x]=t.useState([]),[C,O]=t.useState(!1),R=o();R.current=C;const F=()=>{const e=n.getStats();let t,r,o=0;if(kn.length>60){for(t=[],r=0;r<kn.length-1;r++)t.push(kn[r]);kn=t}for(0===kn.length?kn.push({x:0,y:e.traffic}):(kn.forEach((e=>{e.x++})),kn.unshift({x:0,y:e.traffic})),r=0;r<kn.length;r++)o+=kn[r].y;o/=kn.length,R.current&&(x(kn),s(e.traffic),c(o),f(e.peakTraffic)),y(e.latency>999?"> 1 s":`${Math.round(e.latency)} ms`),E(`${e.fps} fps`),Mn=setTimeout(F,1e3)},I=a((()=>{O(!0)}),[]);r((()=>(null!==n&&F(),()=>{clearTimeout(Mn)})),[n]);const B=()=>t.createElement("div",{title:"Metrics"},t.createElement(u,{variant:"link",onClick:I},t.createElement(h,{direction:"horizontal",size:"m"},t.createElement(p,{fontWeight:"bold",color:"inherit"},w),t.createElement(p,{fontWeight:"bold",color:"inherit"},v))));return t.createElement("div",null,t.createElement(B,null),C&&t.createElement(m,{onDismiss:()=>{O(!1)},visible:C,size:"medium",header:"Streaming metrics",footer:t.createElement(g,{gridDefinition:[{colspan:4},{colspan:4},{colspan:4}]},t.createElement(xn,{label:"Current usage",color:_},Sn(i)),t.createElement(xn,{label:"Average usage",color:z},Sn(l)),t.createElement(xn,{label:"Peak usage",color:W},Sn(d)))},t.createElement(h,{size:"xl"},t.createElement(g,{gridDefinition:[{colspan:6},{colspan:6}]},t.createElement(xn,{label:"Framerate"},w),t.createElement(xn,{label:"Network latency"},v)),t.createElement(M,{variant:"h3",actions:t.createElement(b,{external:!0,externalIconAriaLabel:"Opens in a new tab",href:"https://docs.aws.amazon.com/dcv/latest/userguide/using-streaming.html#using-streaming-metrics"},"Learn more")},"Download bandwidth"),t.createElement(k,{series:[{title:"Current usage",type:"line",data:S,color:_,valueFormatter:Sn},{title:"Average usage",type:"threshold",y:l,color:z,valueFormatter:Sn},...S.some((e=>e.y>=.8*d))?[{title:"Peak usage",type:"threshold",y:d,color:W,valueFormatter:Sn}]:[]],i18nStrings:{xTickFormatter:e=>`${e} s`,yTickFormatter:Sn},xDomain:[60,0],hideFilter:!0,hideLegend:!0,ariaLabel:"Single data series line chart",height:200,empty:t.createElement(p,{textAlign:"center",color:"inherit"},t.createElement("b",null,"No data available"),t.createElement(p,{variant:"p",color:"inherit"},"There is no data available"))}))))}On.propTypes={connection:l.object};var Rn=n(On);function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fn.apply(this,arguments)}var In=({styles:e={},...n})=>t.createElement("svg",Fn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M8 12v3M3 15h10"}),t.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),t.createElement("path",{d:"M10.25 4.25l-4.5 4.5M10.25 8.75l-4.5-4.5"}));function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bn.apply(this,arguments)}var Tn=({styles:e={},...n})=>t.createElement("svg",Bn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M8 12v3M3 15h10"}),t.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),t.createElement("path",{d:"M5 6.5h6"}));function Dn(){return Dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dn.apply(this,arguments)}var $n=({styles:e={},...n})=>t.createElement("svg",Dn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M8 12v3M3 15h10"}),t.createElement("circle",{cx:"8",cy:"6.56",r:"5.38"}),t.createElement("circle",{cx:"8",cy:"6.5",r:"2"}));const An=ie("Webcam");function Nn(e){let{connection:n,status:i,selectedWebcam:a,setSelectedWebcam:s}=e;const l=o(!1),c=o(!1),d=e=>{Fe.webcam=e,c.current?An.debug(`Cannot set camera to ${e?"enabled":"disabled"} as a request is already in progress`):(c.current=!0,An.info("Setting camera to "+(e?"enabled":"disabled")),n.setWebcam(e,a).then((t=>{e&&s(t)})).catch((t=>{const n=`Failed to ${e?"enable":"disable"} camera.`;An.warn(`${n} Disabling camera. Error (code: ${t.code}): ${t.message}`),Ht({level:Ut.ERROR,header:"Camera error.",description:n,actions:{dismissable:!0}})})).finally((()=>{c.current=!1})))},m=()=>{d(!Fe.webcam)};return r((()=>{"attached"===i&&(m(),l.current=!0)}),[a]),r((()=>{"available"===i&&l.current&&(m(),l.current=!1)}),[i]),r((()=>{d(Fe.webcam)}),[n]),t.createElement("div",{title:"Camera"},t.createElement(u,{iconSvg:Ln(i),variant:"icon",onClick:m}))}function Ln(e){switch(e){case"available":return t.createElement(In,null);case"attached":return t.createElement(Tn,null);case"streaming":return t.createElement($n,null);default:throw new Error(`Illegal camera serviceStatus: ${e}`)}}Nn.propTypes={connection:l.object,status:l.string,selectedWebcam:l.string,setSelectedWebcam:l.func};var Pn=n(Nn);function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}var _n=({styles:e={},...n})=>t.createElement("svg",jn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M14 6.5l-3-3-3 3M11 4v10M8 9.5l-3 3-3-3M5 2v10"}));const zn=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}),Wn={text:"Storage",href:null},Un=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],Vn=ie("Filestorage");let qn,Hn=!1;function Qn(e){let{connection:n,downloadEnabled:i,uploadEnabled:s}=e;const[l,c]=t.useState(!1),d=o(!1),[f,g]=t.useState(!0),[v,y]=t.useState(!1),[w,E]=t.useState([]),[S,x]=t.useState([Wn]),[M,k]=t.useState(1),[T,D]=t.useState(Wn.href),$=o(Wn.href),[A,N]=t.useState([]),[L,P]=t.useState(""),[j,_]=t.useState(""),[z,W]=t.useState(!1),[U,V]=t.useState(!1),[q,H]=t.useState(!1),Q=o(null),G=o(null),K=o(null),Y=()=>Math.max(5,Math.floor((window.innerHeight-320-86)/42)),J=()=>A.slice((M-1)*Y(),M*Y()),X=(e,n)=>t.createElement("div",{style:{display:"flex",alignItems:"center",height:"100%"}},t.createElement(R,{name:e}),n&&t.createElement("span",{style:{marginLeft:"5px"}},n)),ee=e=>{let n,r=e&&"/"!==e&&"Storage"!==e?e:"",o=[];Vn.debug(`Changing to directory ${r}`),n=qn.list(r),n.on("error",(e=>{1===e.code||2===e.code?Vn.info(`Aborted listing of ${r} folder`):(Vn.warn(`Failed to list ${r} folder (${e.message})`),Ht({level:Ut.ERROR,header:"File storage error.",description:t.createElement("div",null,"Failed to list files in ",r," folder.",t.createElement("br",null),"Error: ",e.message," (code: ",e.code,")"),actions:{dismissable:!0}}),ee())})).on("success",(()=>{Vn.debug("List files succeeded"),N(o),e!==T&&E([]),(e=>{let t=e.split("/"),n=[Wn],r="";t.filter((e=>""!==e)).forEach((e=>{r+=`/${e}`,n.push({text:e,path:r,href:null})})),x(n),D(e),$.current=e,k(1)})(r)})).on("newItems",(e=>{Vn.debug(`New items ${e.length}`),Vn.debug(`update list folders ${T}`),o.push(...e)})).run()},te=()=>{Hn?ee(T):ee()},ne=()=>{c(!0),n.getFileExplorer().then((e=>{qn=e,te(),n.setUploadBandwidth(51200)})).catch((()=>{g(!1)}))},re=()=>{d.current=!1,c(!1),n.setUploadBandwidth(1024),Hn=!1,H(!1)},oe=(e,n)=>{let r,o,i=n||""===n?n:T;o=Ht({level:Ut.INFO,header:"Upload in progress.",description:`File ${e.name} is uploading to Storage ${T}`,progress:0,actions:{decline:{text:"Stop uploading",callback:()=>r.cancel(),remove:!0}}}),r=qn.storeFile(e,i),r.on("error",(n=>{1!==n.code&&Ht({level:Ut.ERROR,header:"Upload error.",description:t.createElement("div",null,"Failed to upload ",e.name," to Storage",i,".",t.createElement("br",null),"Error: ",n.message," (code: ",n.code,")"),actions:{dismissable:!0}},o)})).on("progress",((e,t)=>{Gt(Math.floor(100*e/t),o)})).on("success",(()=>{Ht({level:Ut.SUCCESS,header:"File uploaded.",description:`File ${e.name} successfully uploaded to Storage${T}`,actions:{dismissable:!0}},o),Hn=!0,te()})).run()},ie=e=>{const t=e.target.files;t&&t.length>0?(Vn.debug("A file to upload has been selected."),oe(t[0])):Vn.debug("No file to upload has been selected.")},ae=e=>{qn.retrieveFile(e).on("error",(n=>{Ht({level:Ut.ERROR,header:"Download error.",description:t.createElement("div",null,"Impossible to download file ",e,".",t.createElement("br",null),"Error: ",n.message," (code: ",n.code,")"),actions:{dismissable:!0}})})).on("success",(()=>{Ht({level:Ut.SUCCESS,header:"File ready for download.",description:`File ${e} ready to be downloaded to your device.`,actions:{dismissable:!0}})})).run()},se=()=>{L.length>0&&L!==j&&((()=>{let e,n="folder"===w[0].type,r=w[0].displayName,o=`${T}/${r}`,i=`${T}/${L}`;e=n?qn.renameDirectory(o,i):qn.renameFile(o,i),e.on("error",(e=>{Ht({level:Ut.ERROR,header:"Rename error.",description:t.createElement("div",null,"Failed to rename ",(n?"folder ":"file ")+r," to ",L,".",t.createElement("br",null),"Error: ",e.message," (code: ",e.code,")"),actions:{dismissable:!0}})})).on("success",(()=>{Vn.debug("Rename succeeded."),Ht({level:Ut.SUCCESS,header:(n?"Folder":"File")+" renamed.",description:`${n?"Folder":"File"} successfully renamed from ${r} to ${L}.`,actions:{dismissable:!0}}),Hn=!0,te()})).run()})(),E([])),V(!1),P("")},le=()=>{const e=A.map((e=>({...e})));e.shift(),N(e)},ce=()=>{var e;L.length>0?qn.createDirectory(e||`${T}/${L}`).on("error",(e=>{le(),Ht({level:Ut.ERROR,header:"Folder creation error.",description:t.createElement("div",null,"Failed to create folder ",L,".",t.createElement("br",null),"Error: ",e.message," (code: ",e.code,")"),actions:{dismissable:!0}})})).on("success",(()=>{Vn.debug("Mkdir succeeded"),Ht({level:Ut.SUCCESS,header:"Folder created.",description:`Folder ${L} successfully created.`,actions:{dismissable:!0}}),Hn=!0,te()})).run():le(),W(!1),P("")},de=e=>{Hn=!0,l||(d.current=!0,ne())},ue=a((e=>{e.stopPropagation(),!e.relatedTarget&&d.current&&l&&re()})),me=e=>{switch(e){case"download":ae(`${T}/${w[0].displayName}`);break;case"open":ee(`${T}/${w[0].displayName}`);break;case"rename":_(w[0].displayName),P(w[0].displayName),V(!0);break;case"delete":qn.deleteFile(`${T}/${w[0].displayName}`).on("error",(e=>{Ht({level:Ut.ERROR,header:"Deletion error.",description:t.createElement("div",null,"Failed to delete file ",w[0].displayName,".",t.createElement("br",null),"Error: ",e.message," (code: ",e.code,")"),actions:{dismissable:!0}})})).on("success",(()=>{Vn.debug("Remove succeeded"),Ht({level:Ut.SUCCESS,header:"File deleted.",description:`File ${w[0].displayName} successfully deleted.`,actions:{dismissable:!0}}),Hn=!0,te()})).run();break;default:Vn.warn("Invalid dropdown action selected")}},pe=e=>t.createElement(u,{onClick:()=>e.current.click()},t.createElement("input",{style:{display:"none"},type:"file",ref:e,onChange:ie,onClick:e=>{e.target.value=""}}),"Upload file"),he=t.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},t.createElement(h,{direction:"horizontal",size:"s"},t.createElement(C,{disabled:!w.length,onItemClick:e=>{let{detail:t}=e;return me(t.id)},items:[...i?[{text:"Download",id:"download",disabled:w.length&&"file"!==w[0].type}]:[],{text:"Rename",id:"rename",disabled:w.length&&!J().filter((e=>e.displayName===w[0].displayName)).length}]},"Actions"),s&&pe(Q),t.createElement(u,{onClick:()=>{N([{displayName:null,type:"folder"}].concat(A.map((e=>({...e}))))),E([]),W(!0),k(1)}},"Create folder")),t.createElement(O,{currentPageIndex:M,onChange:e=>{let{detail:t}=e;return k(t.currentPageIndex)},pagesCount:Math.ceil(A.length/Y()),ariaLabels:{nextPageLabel:"Next page",previousPageLabel:"Previous page",pageLabel:e=>`Page ${e}`}})),fe=[{id:"name",header:"Name",cell:function(e){return X(e.type,(e=>{const n=(e,n)=>t.createElement(B,{ref:K,onChange:e=>{let{detail:t}=e;return P(t.value)},onBlur:e,onKeyUp:t=>{let{detail:n}=t;13===n.keyCode&&e()},value:L,placeholder:n,disableBrowserAutocorrect:!0,inputMode:"text"});return U&&e.displayName===w[0].displayName?n(se,e.displayName):z&&null===e.displayName?n(ce,"New folder"):"file"===e.type?i?t.createElement(b,{ariaLabel:"Download",onFollow:()=>ae(`${T}/${e.displayName}`)},e.displayName):e.displayName:t.createElement(b,{ariaLabel:"Open",onFollow:v?()=>{}:()=>{ee(`${T}/${e.displayName}`)}},e.displayName)})(e))},minWidth:380},{id:"lastModified",header:"Last modified",cell:function(e){return t.createElement(p,{variant:"p"},e.displayName&&e.lastModified?zn.format(new Date(e.lastModified)):"-")},minWidth:180},{id:"size",header:"Size",cell:function(e){return t.createElement(p,{variant:"p"},"file"===e.type?Gn(e.size):"-")},minWidth:140}],ge=e=>{i&&(Vn.debug("Asking to download resource"),e.accept())};return r((()=>()=>{Hn=!1,qn=null}),[]),r((()=>{(U||z)&&(K.current.focus(),U&&K.current.select())}),[U,z]),r((()=>(Z.on("file-download",ge),()=>{Z.off("file-download",ge)})),[i]),r((()=>(window.addEventListener("dragenter",de),window.addEventListener("dragleave",ue),()=>{window.removeEventListener("dragenter",de),window.removeEventListener("dragleave",ue)}))),t.createElement("div",null,t.createElement("div",{title:"Filestorage"},t.createElement(u,{variant:"icon",iconSvg:t.createElement(_n,null),onClick:ne})),t.createElement(m,{onDismiss:re,visible:l,header:"File storage",size:"large",modalRoot:window.document.body},f?t.createElement("div",{onDragEnter:()=>H(!0)},t.createElement(p,{margin:{bottom:"xs"},padding:{bottom:"xs"}},t.createElement(h,{size:"xxs"},t.createElement(h,{direction:"horizontal",size:"s"},X("folder-open",""),t.createElement(F,{items:S,onClick:v?()=>{}:e=>{let{detail:t}=e;return ee(t.item.path)}})),t.createElement("div",{style:{height:42*Y()+86,position:"relative"}},t.createElement(I,{resizableColumns:!0,loadingText:"Loading resources",selectionType:"single",columnDefinitions:fe,items:J(),selectedItems:w,onSelectionChange:e=>{let{detail:t}=e;return E(t.selectedItems)},header:he,empty:t.createElement(p,{textAlign:"center",color:"inherit",variant:"h5",margin:"m"},s?t.createElement(t.Fragment,null,t.createElement("p",null,"Drag and drop a file to upload"),t.createElement("p",null," Or "),pe(G)):t.createElement("p",null,"Folder ",S[S.length-1].text," is empty"))}),q&&t.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",position:"absolute",alignItems:"center",bottom:"0px",width:"100%",height:42*Y(),opacity:"0.8",outline:"2px",border:"2px dashed gray",backgroundColor:"white"},onDrop:e=>{e.preventDefault(),H(!1),((e,n)=>{if(!e[0])return void Vn.debug("Dropped file is null");const r=e[0].webkitGetAsEntry()||e[0].getAsEntry();if(r)if(r.isFile&&1===e.length)r.file((e=>{e.name.startsWith(".")||oe(e,n)}),(()=>Vn.debug(`File not retrieved: ${r.name}`)));else{y(!0);const r=qn.uploadFiles(e,n),o=Ht({level:Ut.INFO,header:"Upload of dropped files in progress.",description:`Dropped files are uploading to Storage${n}`,progress:0,actions:{decline:{text:"Stop uploading",callback:()=>{r.cancel(),y(!1)},remove:!0}}});let i=0;r.on("error",(e=>{1!==e.code&&(Ht({level:Ut.ERROR,header:"Upload dropped files error.",description:t.createElement("div",null,"Failed to upload dropped files",t.createElement("br",null),"Error: ",e.message," ",e.code?`(code: ${e.code})`:""),actions:{dismissable:!0}},o),y(!1))})).on("progress",((e,t,n,r,a,s,l)=>{let{destinationFolder:c,isDirectory:d}=l;Gt(Math.floor(e/t*100),o,e,t,n,r),$.current===c&&(d||n>i)&&ee(c),i=n})).on("success",(()=>{Ht({level:Ut.SUCCESS,header:"Dropped files uploaded.",description:`Dropped files successfully uploaded to Storage${n}`,actions:{dismissable:!0}},o),y(!1)})).run()}else Vn.debug("Dropped file is null")})(e.dataTransfer.items,T||"")},onDragOver:e=>e.preventDefault(),onDragLeave:()=>H(!1)},t.createElement(p,{textAlign:"center",color:"inherit",variant:"h5"},"Drag and drop your files to start uploading")))))):t.createElement(p,{textAlign:"center",color:"inherit",variant:"h5"},"File storage is not available")))}function Gn(e){if(se(e))return"-";if(0===e)return`0 ${Un[0]}`;const t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/Math.pow(1024,t)).toFixed(2))} ${Un[t]}`}Qn.propTypes={connection:l.object,downloadEnabled:l.bool,uploadEnabled:l.bool};var Kn=n(Qn);const Yn={MINUTE:60};Yn.HOUR=Yn.MINUTE**2,Yn.DAY=24*Yn.HOUR;const Zn=(e,t)=>Math.floor(e/t),Jn={just_now:{limit:10,updateInterval:1,text:e=>"now"},less_than_min:{limit:Yn.MINUTE,updateInterval:1,text:e=>"< 1m ago"},n_min_ago:{limit:Yn.HOUR,updateInterval:30,text:e=>`${Zn(e,Yn.MINUTE)}m ago`},n_hours_ago:{limit:Yn.DAY,updateInterval:15*Yn.MINUTE,text:e=>`${Zn(e,Yn.HOUR)}h ago`},n_days_ago:{text:e=>`${Zn(e,Yn.DAY)}d ago`}};function Xn(){const[e,n]=t.useState([]),o=e=>{return n=e,r=0,o=100,Number.isFinite(n)&&n>=r&&n<=o?t.createElement(D,{value:e}):null;var n,r,o};return r((()=>{const e=e=>n(Array.isArray(e)?e:[]);return Z.on("notifications-update",e),()=>{Z.off("notifications-update",e)}}),[]),t.createElement(c,{position:"bottom",size:"medium",fixedWidth:!0,triggerType:"custom",dismissButton:!1,content:e.length?t.createElement("div",{style:{maxHeight:Math.floor(.8*window.innerHeight),overflow:"auto"}},t.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0"}},t.createElement(p,{fontSize:"heading-s",fontWeight:"normal",variant:"h2"},"Notifications"),t.createElement(u,{onClick:()=>{e.forEach((e=>{e.actions&&(e.actions.decline&&("function"==typeof e.actions.decline.callback&&e.actions.decline.callback(),e.actions.decline.remove&&Qt(e.id)),e.actions.dismissable&&Qt(e.id))}))}},"Clear all")),Object.values(Ut).map((e=>e.importance)).sort(((e,t)=>t-e)).filter(((e,t,n)=>!t||e!==n[t-1])).map((n=>e.filter((e=>e.level.importance===n)).map((e=>t.createElement(p,{margin:{horizontal:"xxxs",vertical:"m"},key:e.id},t.createElement(T,null,t.createElement(p,null,(e=>{const n=t.createElement(d,{type:e.level.status},e.header||ce(e.level.status));return"dismissable"in e.actions?t.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},n,t.createElement("div",{style:{paddingLeft:"10px"}},t.createElement(u,{variant:"icon",iconName:"close",iconAlign:"right",onClick:()=>Qt(e.id)}))):n})(e)),e.timestamp&&t.createElement(tr,{timestamp:e.timestamp}),e.description&&t.createElement(p,{margin:{top:"xxs"}},e.description),e.uploadedFiles&&t.createElement(p,{margin:{top:"s"}},`Files uploaded: ${e.uploadedFiles} / ${e.totalFiles} `),e.uploadedBytes&&t.createElement(p,{margin:{top:"s"}},`Bytes uploaded: ${Gn(e.uploadedBytes)} / ${Gn(e.totalBytes)}`),null!==e.progress&&t.createElement(p,{margin:{top:"s"}},o(e.progress)),("decline"in e.actions||"accept"in e.actions)&&t.createElement(p,{margin:{top:"s"}},(e=>{const n=1===Object.keys(e.actions).filter((e=>-1!==["accept","decline"].indexOf(e))).length?"flex-start":"space-between";return t.createElement("div",{style:{display:"flex",justifyContent:n}},"decline"in e.actions&&t.createElement(u,{onClick:()=>{"function"==typeof e.actions.decline.callback&&e.actions.decline.callback(),e.actions.decline.remove&&Qt(e.id)}},e.actions.decline.text),"accept"in e.actions&&t.createElement("div",null,t.createElement(u,{variant:"primary",onClick:()=>{"function"==typeof e.actions.accept.callback&&e.actions.accept.callback(),e.actions.accept.remove&&Qt(e.id)}},e.actions.accept.text)))})(e))))))))):t.createElement(p,{padding:{horizontal:"xxl",vertical:"m"},variant:"p",color:"text-status-inactive",textAlign:"center"},"No notifications to display")},t.createElement("div",{title:"Notifications"},t.createElement($,{color:(()=>{let t="grey",n=-1;return e.forEach((e=>{e.level.importance>n&&(n=e.level.importance,t=e.level.color)})),t})()},e.length)))}var er=n(Xn);function tr(e){const[n,o]=t.useState((Date.now()-e.timestamp)/1e3),i=e=>Object.values(Jn).find((t=>!("limit"in t)||e<t.limit)),a=e=>{o((Date.now()-e)/1e3)};return r((()=>{const t=i(n).updateInterval;let r=null;return t&&(r=setInterval(a,1e3*t,e.timestamp)),()=>{r&&(clearInterval(r),r=null)}}),[]),t.createElement(p,{variant:"small",textAlign:"right",display:"block",fontWeight:"light"},i(s=n).text(s));var s}function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}tr.propTypes={timestamp:l.number};var rr=({styles:e={},...n})=>t.createElement("svg",nr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),t.createElement("g",{stroke:"#545b64",strokeWidth:"2"},t.createElement("path",{d:"M12 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H9.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",strokeLinejoin:"round",fill:"none"}),t.createElement("circle",{cx:"12",cy:"3.5",r:"2.5",strokeMiterlimit:"10",fill:"none"}),t.createElement("circle",{cx:"4",cy:"3.5",r:"2.5",fill:"#545b64",strokeMiterlimit:"10"}),t.createElement("path",{d:"M4 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H1.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",fill:"#545b64",strokeLinejoin:"round"})));function or(){return or=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},or.apply(this,arguments)}var ir=({styles:e={},...n})=>t.createElement("svg",or({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},n),t.createElement("g",{fill:"none",stroke:"#545b64",strokeWidth:"2"},t.createElement("circle",{cx:"8",cy:"3.5",r:"2.5",strokeMiterlimit:"10"}),t.createElement("path",{d:"M8 8h0a3 3 0 013 3v3.14a.86.86 0 01-.86.86H5.86a.86.86 0 01-.86-.86V11a3 3 0 013-3z",strokeLinejoin:"round"})));let ar=[];const sr=e=>{if(0!==ar.length){const t=e.map((e=>e.connectionId)),n=ar.map((e=>e.connectionIds)).flat();(e=>{let t,n;e.forEach((e=>{const r=ar.find((t=>t.connectionIds.includes(e)));n=r.owner?"Session owner":"Collaborator",t=`${n} '${r.username}' has disconnected from this session.`,Ht({level:Ut.INFO,header:"Client disconnected.",description:t,actions:{dismissable:!0}})}))})(n.filter((e=>!t.some((t=>e===t)))));const r=e.filter((e=>!n.some((t=>e.connectionId===t))));(e=>{let t,n;e.forEach((e=>{n=e.owner?"Session owner":"Collaborator",t=`${n} '${e.username}' has joined this session.`,Ht({level:Ut.INFO,header:"New client connected.",description:t,actions:{dismissable:!0}})}))})(r)}};function lr(e){(e=>{Z.emit("collaboration-status-update",e.length>1)})(e),sr(e),(e=>{ar=[];const t=e.length;for(let r=0;r<t;r++){const t=ar.find((t=>t.username===e[r].username));t?t.connectionIds.push(e[r].connectionId):ar.push({username:(n=e[r]).username,connectionIds:[n.connectionId],owner:n.owner})}var n;ar.sort(((e,t)=>e.username<t.username?-1:1))})(e),cr()}function cr(){Z.emit("collaborator-list-update",ar)}function dr(e,t){t.forEach((t=>{t!==e.id&&e.disconnectCollaborator(t)}))}function ur(e){let{connection:n}=e;const[o,i]=t.useState([]),[a,s]=t.useState(!1);return r((()=>{const e=e=>{s(e.some((e=>e.owner&&e.connectionIds.includes(n.id)))),i(e)};return Z.on("collaborator-list-update",e),cr(),()=>{Z.off("collaborator-list-update",e)}}),[]),t.createElement(c,{position:"bottom",size:"medium",triggerType:"custom",dismissButton:!1,content:o.length?t.createElement("div",{style:{maxHeight:Math.floor(.8*window.innerHeight),overflow:"auto"}},t.createElement("div",{style:{display:"flex",justifyContent:"space-between",padding:"2px 0 15px"}},t.createElement(p,{fontSize:"heading-s",fontWeight:"normal",variant:"h2"},"Collaborators"),a&&o.length>2&&t.createElement("div",{style:{marginLeft:"30px"}},t.createElement(u,{onClick:()=>function(e){ar.forEach((t=>dr(e,t.connectionIds)))}(n)},"Disconnect all"))),t.createElement(T,null,o.map((e=>e.username&&(e=>{const r=e.connectionIds.length>1&&e.connectionIds.includes(n.id)||a&&e.connectionIds.includes(n.id)&&e.connectionIds.length>1||a&&!e.connectionIds.includes(n.id);return t.createElement(p,{key:e.username},t.createElement("div",{style:{display:"flex",justifyContent:"space-between",minWidth:"150px"}},t.createElement("div",{style:{display:"flex",alignItems:"center"}},t.createElement(R,{svg:t.createElement(ir,null),size:"small"}),t.createElement("div",{style:{maxWidth:"200px"}},t.createElement(p,{fontSize:"body-m",fontWeight:"normal",variant:"p",margin:{left:"xs",right:"s"}},`${e.username}${e.connectionIds.length>1?` (${e.connectionIds.length} clients)`:""}`))),r&&t.createElement(u,{variant:"icon",iconName:"close",onClick:()=>dr(n,e.connectionIds)})))})(e))))):t.createElement(p,{padding:{horizontal:"xxl",vertical:"m"},variant:"p",color:"text-status-inactive",textAlign:"center"},"No collaborators to display")},t.createElement("div",{title:"Collaborators"},t.createElement(R,{svg:t.createElement(rr,null)})))}ur.propTypes={connection:l.object};var mr=n(ur);function pr(){return pr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pr.apply(this,arguments)}var hr=({styles:e={},...n})=>t.createElement("svg",pr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M1 2h14v12H1zM4 11h8M4 5h2M7 5h2M10 5h2M4 8h2M7 8h2M10 8h2"}));let fr;function gr(e){let{connection:n}=e;const[o,i]=t.useState(!1),a=()=>{i(!0),fr.focus(),(ot()||et())&&(fr.click(),window.scrollTo(0,0),document.body.scrollTop=0,document.scrollingElement.scrollTop=0)},s=()=>{fr=document.getElementById("dcv-softkbd-hid-input"),fr&&a()},l=()=>{const e=document.createElement("input");e.setAttribute("id","dcv-softkbd-hid-input"),e.setAttribute("type","text"),e.style.caretColor="transparent",e.style.color="transparent",e.style.background="transparent",e.style.border="none",e.style.fontSize="1pt",e.style.height="1px",e.style.width="1px",e.value="",fr=e};return r((()=>{var e;return o&&(e=n.sendKeyboardEvent.bind(n),fr=document.getElementById("dcv-softkbd-hid-input"),fr&&(fr.addEventListener("focusout",s),fr.addEventListener("keydown",e),fr.addEventListener("keyup",e),fr.addEventListener("keypress",e))),()=>(e=>{fr=document.getElementById("dcv-softkbd-hid-input"),fr&&(fr.removeEventListener("focusout",s),fr.removeEventListener("keydown",e),fr.removeEventListener("keyup",e),fr.removeEventListener("keypress",e))})(n.sendKeyboardEvent.bind(n))}),[n,o]),r((()=>(l(),()=>{fr=null,i(!1)})),[]),t.createElement("div",{title:"Virtual keyboard"},t.createElement(u,{iconSvg:t.createElement(hr,null),variant:"icon",onClick:()=>{o?(fr=document.getElementById("dcv-softkbd-hid-input"),fr&&(fr.blur(),document.getElementById("soft-kbd-div").removeChild(fr)),i(!1)):(fr=document.getElementById("dcv-softkbd-hid-input"),fr||l(),document.getElementById("soft-kbd-div").appendChild(fr),a())}}))}gr.propTypes={connection:l.object};var br=n(gr);function vr(e,t){return vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vr(e,t)}function yr(e){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function wr(e,t){if(t&&("object"===yr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Er(e){return Er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Er(e)}var Sr={exports:{}},xr={};
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(xr,"__esModule",{value:!0});var Cr="function"==typeof Symbol&&Symbol.for,Mr=Cr?Symbol.for("react.element"):60103,kr=Cr?Symbol.for("react.portal"):60106,Or=Cr?Symbol.for("react.fragment"):60107,Rr=Cr?Symbol.for("react.strict_mode"):60108,Fr=Cr?Symbol.for("react.profiler"):60114,Ir=Cr?Symbol.for("react.provider"):60109,Br=Cr?Symbol.for("react.context"):60110,Tr=Cr?Symbol.for("react.async_mode"):60111,Dr=Cr?Symbol.for("react.concurrent_mode"):60111,$r=Cr?Symbol.for("react.forward_ref"):60112,Ar=Cr?Symbol.for("react.suspense"):60113,Nr=Cr?Symbol.for("react.memo"):60115,Lr=Cr?Symbol.for("react.lazy"):60116;function Pr(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Mr:switch(e=e.type){case Tr:case Dr:case Or:case Fr:case Rr:case Ar:return e;default:switch(e=e&&e.$$typeof){case Br:case $r:case Ir:return e;default:return t}}case Lr:case Nr:case kr:return t}}}function jr(e){return Pr(e)===Dr}function _r(){}function zr(){}xr.typeOf=Pr,xr.AsyncMode=Tr,xr.ConcurrentMode=Dr,xr.ContextConsumer=Br,xr.ContextProvider=Ir,xr.Element=Mr,xr.ForwardRef=$r,xr.Fragment=Or,xr.Lazy=Lr,xr.Memo=Nr,xr.Portal=kr,xr.Profiler=Fr,xr.StrictMode=Rr,xr.Suspense=Ar,xr.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===Or||e===Dr||e===Fr||e===Rr||e===Ar||"object"==typeof e&&null!==e&&(e.$$typeof===Lr||e.$$typeof===Nr||e.$$typeof===Ir||e.$$typeof===Br||e.$$typeof===$r)},xr.isAsyncMode=function(e){return jr(e)||Pr(e)===Tr},xr.isConcurrentMode=jr,xr.isContextConsumer=function(e){return Pr(e)===Br},xr.isContextProvider=function(e){return Pr(e)===Ir},xr.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Mr},xr.isForwardRef=function(e){return Pr(e)===$r},xr.isFragment=function(e){return Pr(e)===Or},xr.isLazy=function(e){return Pr(e)===Lr},xr.isMemo=function(e){return Pr(e)===Nr},xr.isPortal=function(e){return Pr(e)===kr},xr.isProfiler=function(e){return Pr(e)===Fr},xr.isStrictMode=function(e){return Pr(e)===Rr},xr.isSuspense=function(e){return Pr(e)===Ar},!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()||Object.assign,Function.call.bind(Object.prototype.hasOwnProperty),zr.resetWarningCache=_r,Sr.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:zr,resetWarningCache:_r};return n.PropTypes=n,n}();var Wr=Sr.exports;function Ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Er(e);if(t){var o=Er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wr(this,n)}}var Vr,qr,Hr,Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(o,t.PureComponent);var n,r=Ur(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).container=null,t.window=null,t.windowCheckerInterval=null,t.released=!1,t.state={mounted:!1},t}return(n=[{key:"render",value:function(){return this.state.mounted?Q.createPortal(this.props.children,this.container):null}},{key:"componentDidMount",value:function(){this.openChild(),this.setState({mounted:!0})}},{key:"openChild",value:function(){var e,t=this,n=this.props,r=n.url,o=n.title,i=n.name,a=n.features,s=n.onBlock,l=n.onOpen,c=n.center;if("string"!=typeof c||void 0!==a.width&&void 0!==a.height){if("parent"===c)a.left=window.top.outerWidth/2+window.top.screenX-a.width/2,a.top=window.top.outerHeight/2+window.top.screenY-a.height/2;else if("screen"===c){var d=void 0!==window.screenLeft?window.screenLeft:window.screen.left,u=void 0!==window.screenTop?window.screenTop:window.screen.top,m=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,p=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;a.left=m/2-a.width/2+d,a.top=p/2-a.height/2+u}}else console.warn("width and height window features must be present when a center prop is provided");if(this.window=window.open(r,i,(e=a,Object.keys(e).reduce((function(t,n){var r=e[n];return"boolean"==typeof r?t.push("".concat(n,"=").concat(r?"yes":"no")):t.push("".concat(n,"=").concat(r)),t}),[]).join(","))),this.container=this.window.document.createElement("div"),this.windowCheckerInterval=setInterval((function(){t.window&&!t.window.closed||t.release()}),50),this.window){if(this.window.document.title=o,this.container=this.window.document.getElementById("new-window-container"),null===this.container)this.container=this.window.document.createElement("div"),this.container.setAttribute("id","new-window-container"),this.window.document.body.appendChild(this.container);else{var h=this.window.document.getElementById("new-window-container-static");this.window.document.body.removeChild(h)}this.props.copyStyles&&setTimeout((function(){return e=document,n=t.window.document,r=n.createDocumentFragment(),Array.from(e.styleSheets).forEach((function(e){var t;try{t=e.cssRules}catch(e){console.error(e)}if(t){var o=[];Array.from(e.cssRules).forEach((function(e){var t=e.type;if(t!==CSSRule.UNKNOWN_RULE){var n;n=t===CSSRule.KEYFRAMES_RULE?function(e){var t=["@keyframes",e.name,"{"];return Array.from(e.cssRules).forEach((function(e){t.push(e.keyText,"{",e.style.cssText,"}")})),t.push("}"),t.join(" ")}(e):[CSSRule.IMPORT_RULE,CSSRule.FONT_FACE_RULE].includes(t)?function(e){return e.cssText.split("url(").map((function(e){return"/"===e[1]?"".concat(e.slice(0,1)).concat(window.location.origin).concat(e.slice(1)):e})).join("url(")}(e):e.cssText,o.push(n)}}));var i=n.createElement("style");i.textContent=o.join("\n"),r.appendChild(i)}else if(e.href){var a=n.createElement("link");a.rel="stylesheet",a.href=e.href,r.appendChild(a)}})),void n.head.appendChild(r);var e,n,r}),0),"function"==typeof l&&l(this.window),this.window.addEventListener("beforeunload",(function(){return t.release()}))}else"function"==typeof s?s(null):console.warn("A new window could not be opened. Maybe it was blocked.")}},{key:"componentWillUnmount",value:function(){if(this.window)if(this.props.closeOnUnmount)this.window.close();else if(this.props.children){var e=this.container.cloneNode(!0);e.setAttribute("id","new-window-container-static"),this.window.document.body.appendChild(e)}}},{key:"release",value:function(){if(!this.released){this.released=!0,clearInterval(this.windowCheckerInterval);var e=this.props.onUnload;"function"==typeof e&&e(null)}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(o.prototype,n),o}();function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr.apply(this,arguments)}Hr={url:"",name:"",title:"",features:{width:"600px",height:"640px"},onBlock:null,onOpen:null,onUnload:null,center:"parent",copyStyles:!0,closeOnUnmount:!0},(qr="defaultProps")in(Vr=Qr)?Object.defineProperty(Vr,qr,{value:Hr,enumerable:!0,configurable:!0,writable:!0}):Vr[qr]=Hr,Qr.propTypes={children:Wr.node,url:Wr.string,name:Wr.string,title:Wr.string,features:Wr.object,onUnload:Wr.func,onBlock:Wr.func,onOpen:Wr.func,center:Wr.oneOf(["parent","screen"]),copyStyles:Wr.bool,closeOnUnmount:Wr.bool};var Kr=({styles:e={},...n})=>t.createElement("svg",Gr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M5.5 12v3M.5 15h10M1 5h9v7H1z"}),t.createElement("path",{d:"M5 4V1h9v7h-4"}));function Yr(){return Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yr.apply(this,arguments)}var Zr=({styles:e={},...n})=>t.createElement("svg",Yr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16","aria-hidden":"true"},n),t.createElement("path",{d:"M5.5 12v3M.5 15h10M5 1h9v7H5z"}),t.createElement("path",{d:"M5 5H1v7h9V8M11.75 2.25l-4.5 4.5M11.75 6.75l-4.5-4.5"}));const Jr=ie("Multiscreen");function Xr(e){let{connection:n,copyEnabled:o,pasteEnabled:i,appearanceMode:a,toolbarBehavior:s,pendingDisplays:l}=e;const[c,d]=t.useState(!1),[m,p]=t.useState(null),h=()=>{Z.emit("close-secondary-display")},f=()=>{const e=vo();d(!1),e&&n&&(bo(null),n.detachDisplay(e)),m&&!m.closed&&(m.close(),p(null))};return r((()=>(Z.on("close-secondary-display",f),()=>{Z.off("close-secondary-display",f)})),[m,n]),t.createElement(t.Fragment,null,t.createElement("div",{title:"Multiple screens"},t.createElement(u,{iconSvg:c?t.createElement(Zr,null):t.createElement(Kr,null),variant:"icon",onClick:()=>{c?f():d(!0)}})),c&&t.createElement(Qr,{features:{height:window.innerHeight,width:window.innerWidth},name:"DCV Secondary Window",title:`${n.getServerInfo().hostname} - NICE DCV`,onUnload:h,onBlock:h,onOpen:e=>{e.opener=null,p(e),Z.once("open-secondary-display",(()=>(e=>{e?l.length?(bo(l[0]),n.attachDisplay(e,{displayDivName:"dcv-display",displayId:l[0]}).then((e=>bo(e))).catch((e=>{Jr.error(`Cannot open secondary display (Error: ${e.code} ${e.message})`),f()}))):n.attachDisplay(e,{displayDivName:"dcv-display"}).then((e=>bo(e))).catch((e=>{Jr.error(`Cannot open secondary display (Error: ${e.code} ${e.message})`),f()})):f()})(e)))},closeOnUnmount:!0},t.createElement(yo,{isPrimary:!1,connection:n,copyEnabled:o,pasteEnabled:i,window:m,appearanceMode:a,toolbarBehavior:s})))}Xr.propTypes={connection:l.object,copyEnabled:l.bool,pasteEnabled:l.bool,appearanceMode:l.oneOf(["System default","Light mode","Dark mode"]),toolbarBehavior:l.oneOf([pe,fe,be]),pendingDisplays:l.arrayOf(l.number)};var eo=n(Xr);const to=ie("Viewer"),no={position:"relative",margin:"auto",outline:"none"},ro={height:"100%",overflow:"hidden",position:"relative"},oo={position:"absolute",width:"100%",zIndex:1e3,pointerEvents:"all"},io={display:"flex",flexFlow:"row wrap",alignItems:"center","--gap":"32px",marginLeft:"calc(var(--gap) / -2)",marginBottom:"calc(var(--gap) / -2)"},ao={marginLeft:"calc(var(--gap) / 2)",marginBottom:"calc(var(--gap) / 2)"};let so,lo,co=[],uo=null,mo=null;function po(n){let{isPrimary:i,connection:l,copyEnabled:c,pasteEnabled:d,window:u,appearanceMode:m,toolbarBehavior:f,uiConfig:g}=n;const[b,v]=t.useState(!0),[y,w]=t.useState(!1),[E,S]=t.useState(!1),[x,C]=t.useState(!1),[M,k]=t.useState(""),[O,R]=t.useState(""),[F,I]=t.useState(""),[B,T]=t.useState(""),[D,$]=t.useState(Fe.selectedWebcamId),[N,_]=t.useState(c||!1),[z,W]=t.useState(!1),[H,Q]=t.useState(d||!1),[G,K]=t.useState(Fe.metricsEnabled),[Y,J]=t.useState(!1),[X,ee]=t.useState(!1),[te,ne]=t.useState(!1),[re,oe]=t.useState(!1),[ae,ce]=t.useState(!1),[de,he]=t.useState(!1),[ge,ve]=t.useState(!1),[ye,we]=t.useState(!1),[xe,Ce]=t.useState(null),[Me,$e]=t.useState(Fe.appearanceMode),[Ae,Ne]=t.useState(Fe.toolbarBehavior),[Pe,je]=t.useState(0),[_e,ze]=t.useState(""),We=o(null),Ue=a((e=>!g||!le(g.toolbar)||!(e in g.toolbar)||g.toolbar[e]),[g]),Ve=()=>{Tt(l,u,i)},qe=(e,t,n)=>{(se(n)||0===n)&&(w(t),l.setDisplayQuality(Fe.minQuality,Fe.maxQuality),l.setMaxDisplayResolution(Fe.maxDisplayWidth,Fe.maxDisplayHeight),l.setMinDisplayResolution(Fe.minDisplayWidth,Fe.minDisplayHeight),kt=e,l.setKeyboardQuirks({macOptionToAlt:Fe.macOptionToAlt,macCommandToControl:Fe.macCommandToControl,forceKeyboardCombinations:Fe.forceKeyboardCombinations})),i||so?(ve(!0),we(!0)):to.info(`Received first frame for an unknown displayId: ${n}`)},He=t=>{je(t.setting);const n=t.status;n&&_e!==n&&(ze(n),n===e.TimezoneRedirectionStatus.PERMISSION_ERROR?Ht({level:Ut.WARNING,header:"Time Zone Redirection.",description:"This user does not have permission to perform this operation.",actions:{dismissable:!0}}):n===e.TimezoneRedirectionStatus.GENERIC_ERROR&&Ht({level:Ut.WARNING,header:"Time Zone Redirection.",description:"The setting could not be saved. Please try again.",actions:{dismissable:!0}}))},Qe=(e,t,n)=>{const r=i||se(n)||1===n.length?e:n[1].rect.width,o=i||se(n)||1===n.length?t:n[1].rect.height;_t(n),-1!==[Ee,Se].indexOf(Fe.selectedResolution)?k(Dt(r,o)):k(Fe.selectedResolution),jt(r,o,u,i)},Ge=a((e=>{!function(e,t,n,r){if(t===Ee)Fe.dynamicResolution=!0,Tt(e,n,r);else if(Fe.dynamicResolution=!1,t!==Se){const n=$t(t);zt(e,n[0],n[1],r)}Ie()}(l,e,u,i)}),[l,u,i]),Ke=e=>{R(e.remote),"busy"===e.remote?uo=Ht({level:Ut.WARNING,header:"Audio input unavailable.",description:"This browser or session does not support audio input.",actions:{dismissable:!0}},uo):fo()},Ye=e=>{I(e.remote),e.enabled?null!==mo&&(Qt(mo),mo=null):(mo=Ht({level:Ut.WARNING,header:"Audio output unavailable.",description:"This browser or session does not support audio output.",actions:{dismissable:!0}},mo),fo())},Ze=e=>{T(e.serviceStatus)},Je=e=>{let{message:n,code:r}=e;Ht({level:Ut.ERROR,header:"Webcam error.",description:t.createElement("div",null,"Webcam could not be attached.",t.createElement("br",null),"Error: ",n," (code: ",r,")"),actions:{dismissable:!0}})},et=e=>{_(e.enabled)},tt=e=>{Q(e.enabled)},rt=e=>{w(e.enabled)},ot=e=>{ee(e.enabled)},it=e=>{ne(e.enabled)},at=e=>{C(e.enabled)},st=e=>{const t=e.currentTarget.getBoundingClientRect();e.clientY===t.top&&(ve(!0),u.document.getElementById("dcv-display").blur())},lt=()=>{ve(!1)},ct=a((()=>{We.current?.focus()}),[We]),dt=a((e=>{he(e),(Ae===pe||Ae===fe&&e)&&ve(!1)}),[Ae]),ut=e=>{if(!e.enabled){const e=u.document.getElementById("dcv-softkbd-hid-input");e&&u.document.getElementById("soft-kbd-div").removeChild(e)}oe(e.enabled)},mt=e=>{Ce(e.matches?L.Dark:L.Light),"System default"===Me&&Oe(e,u.document.body)},ht=()=>{u.document.getElementById("dcv-container")&&u.document.getElementById("dcv-container").removeEventListener("mousemove",st),u.document.getElementById("dcv-display")&&u.document.getElementById("dcv-display").removeEventListener("focusin",lt)},ft=(e,t)=>{const n=co.indexOf(e);t.closed?(-1!==n&&co.splice(n,1),e===lo&&Z.emit("close-secondary-display")):t.enabled?so=e===lo:-1===n&&co.push(e)};r((()=>P(j.Compact,u.document.body)),[u]),r((()=>(i&&Z.on("filestorage-enabled",J),()=>{i&&Z.off("filestorage-enabled",J)})),[i]),r((()=>(l&&(Z.on("first-frame",qe),i?(!function(e){Be=ie("Feature Handler"),Te=e}(l),Z.on("display-availability",ft),Le("audio-in",Ke),Le("audio-out",Ye),Le("webcam",Ze),Le("webcam-error",Je),Le("clipboard-copy",et),Le("clipboard-paste",tt),Le("relative-mouse",rt),Le("file-download",ot),Le("file-upload",it),Le("display-multi",(e=>ce(e.enabled&&!nt()&&!Xe()))),Le("keyboard-sas",(e=>S(e.enabled))),Le("screenshot",at),Le("timezone-redirection",He)):Z.emit("open-secondary-display")),()=>{Z.off("first-frame",qe),i&&(Z.off("display-availability",ft),De={})})),[l,i]),r((()=>{if(!b){const e=()=>Tt(l,u,i);if(so&&co.length){const t=co.indexOf(lo);-1!==t&&co.splice(t,1),setTimeout(e,500)}else e()}}),[b]),r((()=>(Z.on("collaboration-status-update",W),()=>{Z.off("collaboration-status-update",W)}))),r((()=>(Z.on("display-layout",Qe),()=>{Z.off("display-layout",Qe)})),[Ae,l,u,i]),r((()=>{l&&(nt()||Xe())&&Le("keyboard",ut)}),[l,u]),r((()=>{const e=()=>{Z.emit("close-secondary-display"),l&&l.disconnect()};return i&&u.addEventListener("beforeunload",e),()=>{i&&u.removeEventListener("beforeunload",e)}}),[l,u,i]),r((()=>(ye&&(u.addEventListener("resize",Ve),Ae!==be&&(Ae!==fe||de)||ge?(Ae===pe||Ae===fe&&de)&&ge&&ve(!1):ve(!0),de&&Ae===fe||Ae===pe?(u.document.getElementById("dcv-container")&&u.document.getElementById("dcv-container").addEventListener("mousemove",st),u.document.getElementById("dcv-display")&&u.document.getElementById("dcv-display").addEventListener("focusin",lt)):ht(),v(!1)),()=>{u.removeEventListener("resize",Ve),ht()})),[ye,Ae,de,l,i,u]),r((()=>{b&&!ge||Tt(l,u,i)}),[Ae,de]),r((()=>{const e=ke();return Re(Me,u.document.body),e&&(Ce(e.matches?L.Dark:L.Light),e.addEventListener("change",mt)),()=>{e&&e.removeEventListener("change",mt)}}),[Me]),r((()=>{m&&$e(m)}),[m]),r((()=>{f&&Ne(f)}),[f]);const gt=s((()=>t.createElement(h,{direction:"horizontal",size:"m"},i&&Y&&t.createElement(Kn,{connection:l,downloadEnabled:X,uploadEnabled:te}),(N||H)&&t.createElement(pt,{connection:l,copyEnabled:N,pasteEnabled:H,currentWindow:u}),i&&ho(O)&&ho(F)&&t.createElement(un,{connection:l}),i&&ho(F)&&t.createElement(En,{connection:l}),i&&me(B)&&t.createElement(Pn,{connection:l,status:B,selectedWebcam:D,setSelectedWebcam:$}),i&&ae&&Ue("multimonitorButton")&&t.createElement(eo,{connection:l,copyEnabled:N,pasteEnabled:H,appearanceMode:Me,toolbarBehavior:Ae,pendingDisplays:co}),Ue("fullscreenButton")&&t.createElement(xt,{setFullscreen:dt,currentDocument:u.document}))),[i,Y,l,X,te,N,H,O,F,B,D,$,ae,N,H,Me,Ae,co,dt,Ue,u]),bt=s((()=>t.createElement(p,{textAlign:"center"},t.createElement(Rn,{connection:l}))),[l]),vt=s((()=>t.createElement(p,{float:"right"},t.createElement("div",{style:io},i&&re&&go(t.createElement(br,{connection:l})),i&&z&&go(t.createElement(mr,{connection:l})),go(t.createElement(er,null)),go(t.createElement(an,{connection:l,relativeMouseModeEnabled:y,sasEnabled:E,focusDisplay:ct,screenshotEnabled:x,currentResolution:M,submitResolutionPreferences:Ge,submitMetricsPreferences:K,submitAppearanceModePreferences:$e,submitToolbarBehaviorPreferences:Ne,webcamStatus:B,webcamId:D,setWebcamId:$,systemDefaultAppearanceMode:xe,timezoneRedirectionSetting:Pe}))))),[i,re,l,z,y,E,x,M,B,D,xe,Pe]),yt=s((()=>t.createElement(p,{display:ge?"block":"none",padding:{left:"s",right:"s",top:"xs",bottom:"xs"}},t.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},gt,i&&G&&bt,i&&vt))),[ge,gt,i,G,bt,vt]),wt=s((()=>t.createElement("div",{id:"dcv-toolbar-container",style:{backgroundColor:U,borderBottom:`1px solid ${V}`,...Ae===pe||de&&Ae===fe?oo:{}}},yt)),[Ae,de,yt]),Et=s((()=>t.createElement("div",{style:{backgroundColor:q}},t.createElement("div",{style:{height:ue(u)-1}},t.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",WebkitTransform:"translate(-50%, -50%)",msTransform:"translate(-50%, -50%)"}},t.createElement(h,{size:"m"},t.createElement(p,{textAlign:"center"},t.createElement(A,{size:"large"})),t.createElement(p,{fontWeight:"light",variant:"h1"},"Connecting")))))),[u]);return t.createElement("div",{id:"dcv-container",style:ro},b&&!ge?Et:Ue("visible")&&wt,t.createElement("div",{style:{display:b&&!ge?"none":"block",backgroundColor:q}},t.createElement("div",{id:"dcv-display-frame",style:{height:At(u),width:Nt(u),overflow:Fe.scaleToFit?"hidden":"auto"}},t.createElement("div",{id:"dcv-display",ref:We,style:no})),t.createElement("div",{id:"dcv-resource",tabIndex:"-1"}),t.createElement("div",{id:"soft-kbd-div",style:{position:"absolute",top:0,zIndex:-1e3}})))}function ho(e){return-1!==["available","active"].indexOf(e)}function fo(){null!==uo&&(Qt(uo),uo=null)}function go(e){return t.createElement("div",{style:ao},e)}function bo(e){if(null===e){const e=co.indexOf(lo);-1!==e&&co.splice(e,1)}lo=e}function vo(){return lo}po.propTypes={isPrimary:l.bool,connection:l.object,copyEnabled:l.bool,pasteEnabled:l.bool,window:l.object,appearanceMode:l.oneOf(["System default","Light mode","Dark mode"]),toolbarBehavior:l.oneOf([pe,fe,be]),uiConfig:l.exact({toolbar:l.exact({visible:l.bool,fullscreenButton:l.bool,multimonitorButton:l.bool})})};var yo=n(po);const wo=ie("License Handler");let Eo=null;function So(e){let t=365,n="",r={};e.licenses.forEach((e=>{e.isDemo&&wo.info(`License status: product '${e.product}' is using a demo license (${e.leftDays} days left)`),e.leftDays>0&&e.leftDays<t&&(t=e.leftDays,n=e.product)})),0===e.numUnlicensed?(wo.debug(`License status: ${e.licenses.length} products licensed`),r.level=Ut.INFO,"demo"===e.licensingMode&&t<7?r.header="DCV demo license.":r.header="DCV license.",t<7?(wo.info(`License status: product '${n}' will expire in ${t} days`),r.description=`License of '${n}' will expire in ${t} days.`):"demo"===e.licensingMode&&(r.description="DCV is running with a demo license.")):(wo.warn(`License error (mode: ${e.licensingMode}), ${e.numUnlicensed}/${e.licenses.length} products unlicensed: ${JSON.stringify(e.licenses)}`),r.header="No license available.","ec2"===e.licensingMode?(r.level=Ut.WARNING,r.description="Please, check your EC2 configuration.",null!==e.documentationUrl&&""!==e.documentationUrl&&(r.actions={},r.actions.accept={text:"See documentation",callback:()=>{const t=document.createElement("a");t.href=e.documentationUrl,t.target="_blank",t.click()}})):(r.level=Ut.ERROR,r.description="Please, contact the administrator.")),r.description&&(Eo=Ht(r,Eo))}const xo=ie("Printer");function Co(e){Ht({level:Ut.INFO,header:"File printed.",description:`${e.id} has been converted in printable format.`,actions:{accept:{text:"Download",callback:()=>{return t=e,xo.debug(`Accepting print resource ${t.id}`),void t.accept({disposition:"attachment"});var t},remove:!0},decline:{text:"Decline",callback:()=>{return t=e,xo.debug(`Removing print resource ${t.id}`),void t.decline();var t},remove:!0}}}),xo.debug(`Added printer notification for resource ${e.id}`)}const Mo=ie("DCVViewer");let ko,Oo,Ro;function Fo(n){const[i,a]=t.useState(null),s=o(i),l=e=>{ae(n.dcv.onDisconnect)&&n.dcv.onDisconnect(e),s.current=null},c=e=>{let t,n=`${se(e.namespace)?"":`${e.namespace}::`}${e.name}`;0!==Fe.customChannels.length&&-1!==(()=>{const t=[];return Fe.customChannels.forEach((n=>{if(se(e.namespace)){const e=n.split("::",2);t.push(e[e.length-1])}else t.push(n)})),t})().indexOf(n)?i.openChannel(e.name,e.authToken,{onMessageReceived:e=>{Mo.info(`Custom channel: received message ${new TextDecoder("utf-8").decode(e)}`),t(e)},onClose:e=>Mo.info(`Custom channel closed: ${JSON.stringify(e)}`)},e.namespace).then((e=>{Mo.info(`Opened custom channel ${e.channelName}`),t=t=>{e.sendMessage(t).then((()=>{Mo.info("Success sending message.")})).catch((e=>{Mo.error(`Failed to send message: ${JSON.stringify(e)}`)}))}})).catch((e=>{Mo.error(`Failed to open custom channel: ${e.message}`)})):Mo.info(`Custom channel '${n}' not supported`)},d=()=>{Mo.info("Calling client.connect"),e.connect({url:n.dcv.serverUrl,sessionId:n.dcv.sessionId,authToken:n.dcv.authToken,enabledChannels:Fe.enabledChannels,displayCodecs:Fe.displayCodecs,divId:"dcv-display",showDebugLayer:Fe.debugLayer,enableGraphicsDebugLayer:Fe.enableGraphicsDebugLayer,clientHiDpiScaling:Fe.clientHiDpiScaling,enableWebCodecs:Fe.enableWebCodecs,highColorAccuracy:Fe.highColorAccuracy,losslessColorspace:Fe.losslessColorspace,baseUrl:n.dcv.baseUrl,resourceBaseUrl:n.dcv.resourceBaseUrl||"",extensionData:n.dcv.extensionData||"",volumeLevel:Fe.volume,audioBitrate:Fe.audioBitrate,fingerRadius:Fe.fingerRadius,clipboardAutoSync:!0,dynamicAudioTuning:!0,observers:{displayLayout:(e,t,n)=>{Z.emit("display-layout",e,t,n)},firstFrame:(e,t,n)=>{Z.emit("first-frame",e,t,n)},displayAvailability:(e,t)=>{Z.emit("display-availability",e,t)},disconnect:l,licenseNotification:So,idleWarningNotification:e=>{!function(e){let t;e?(t=`DCV connection is idle and is going to be disconnected at ${e.toString()}`,Mo.info(t),ko=Ht({level:Ut.WARNING,header:"Idle timeout.",description:t,actions:{dismissable:!0}},ko)):ko&&(Qt(ko),ko=null)}(e)},dataChannel:e=>{Z.emit("custom-channel",e)},filePrinted:e=>{Co(e)},fileDownload:e=>{Z.emit("file-download",e)},qualityIndicatorState:e=>{Mo.info(`Quality Indicators: ${JSON.stringify(e)}`),function(e){let n=0,r=[],o="Quality status update.";switch(e.indicators.forEach((e=>{r.push(t.createElement(p,{key:e.name},`${e.name.replace("_"," ")} status: ${e.status}`)),e.changed&&Mo.info(`Indicator ${e.name} has changed to status ${e.status}`),e.status>n&&(n=e.status)})),Mo.info(`Current Quality Indicator overall alarm state: ${n}`),n){case 1:Ro=Ht({level:Ut.WARNING,header:o,description:r,actions:{dismissable:!0}},Ro);break;case 2:Ro=Ht({level:Ut.ERROR,header:o,description:r,actions:{dismissable:!0}},Ro);break;default:Ro&&(Qt(Ro),Ro=null)}}(e)},filestorageEnabled:e=>{Z.emit("filestorage-enabled",e)},clipboardEvent:e=>{Z.emit("clipboard",e)},deviceChangeEvent:function(){Z.emit("device-change")},featuresUpdate:Ne,screenshot:e=>{Z.emit("screenshot",e)},collaboratorList:e=>{lr(e)},networkQualityChange:e=>{!function(e){const t="Network quality status.";switch(e.quality){case"WARNING":Oo=Ht({level:Ut.WARNING,header:t,description:"We have detected intermittent network connectivity.",actions:{dismissable:!0}},Oo);break;case"CRITICAL":Oo=Ht({level:Ut.ERROR,header:t,description:"We detected a network interruption and are trying to reconnect. Check your network or VPN.",actions:{dismissable:!0}},Oo);break;default:Oo&&(Qt(Oo),Oo=null)}}(e)}}}).then((e=>{a(e),s.current=e,document.title=`${e.getServerInfo().hostname} - NICE DCV`})).catch((e=>{Mo.error(`client.connect was rejected (${e.message})`),ae(n.dcv.onDisconnect)&&n.dcv.onDisconnect(e.message),s.current=null}))};return r((()=>{n.dcv.sessionId&&n.dcv.authToken&&!i&&(ne.setLevel(n.dcv.logLevel),d())}),[n.dcv.sessionId,n.dcv.authToken]),r((()=>()=>{Mo.info("Calling connection.disconnect"),s.current&&s.current.disconnect()}),[]),r((()=>(Z.on("custom-channel",c),()=>{Z.off("custom-channel",c)})),[i]),t.createElement(yo,{isPrimary:!0,connection:i,window:window,uiConfig:n.uiConfig})}Fo.propTypes={dcv:l.exact({sessionId:l.string.isRequired,authToken:l.string.isRequired,serverUrl:l.string.isRequired,baseUrl:l.string.isRequired,resourceBaseUrl:l.string,extensionData:l.string,onDisconnect:l.func,logLevel:l.oneOf(Object.values(ne.levels))}).isRequired,uiConfig:l.exact({toolbar:l.exact({visible:l.bool,fullscreenButton:l.bool,multimonitorButton:l.bool})})};export{Fo as DCVViewer};
